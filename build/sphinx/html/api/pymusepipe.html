

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pymusepipe package &mdash; pymusepipe 2.9.9.post16 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="pymusepipe" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pymusepipe
          

          
          </a>

          
            
            
              <div class="version">
                2.9.9.post16
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../howto.html">HowTo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Module Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pymusepipe package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.align_pipe">pymusepipe.align_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.check_pipe">pymusepipe.check_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.combine">pymusepipe.combine module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.config_pipe">pymusepipe.config_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.create_sof">pymusepipe.create_sof module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.cube_convolve">pymusepipe.cube_convolve module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.emission_lines">pymusepipe.emission_lines module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.graph_pipe">pymusepipe.graph_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.init_musepipe">pymusepipe.init_musepipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.mpdaf_pipe">pymusepipe.mpdaf_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.musepipe">pymusepipe.musepipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.prep_recipes_pipe">pymusepipe.prep_recipes_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.recipes_pipe">pymusepipe.recipes_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.target_sample">pymusepipe.target_sample module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.util_pipe">pymusepipe.util_pipe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.version">pymusepipe.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pymusepipe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">pymusepipe</a> &raquo;</li>
        
      <li>pymusepipe package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/pymusepipe.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pymusepipe-package">
<h1>pymusepipe package<a class="headerlink" href="#pymusepipe-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pymusepipe.align_pipe">
<span id="pymusepipe-align-pipe-module"></span><h2>pymusepipe.align_pipe module<a class="headerlink" href="#module-pymusepipe.align_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS alignement module. This module can be used to align MUSE
reconstructed images either with each others or using a reference background
image. It spits the results out in a Fits table which can then be used
to process and mosaic Muse PIXTABLES. It includes a normalisation factor,
an estimate of the background, as well as any potential rotation. Fine tuning
can be done by hand by the user, using a set of reference plots.</p>
<dl class="class">
<dt id="pymusepipe.align_pipe.AlignMusePointing">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">AlignMusePointing</code><span class="sig-paren">(</span><em class="sig-param">name_reference, folder_reference='.', folder_muse_images='.', name_muse_images=None, sel_indices_images=None, median_window=10, subim_window=10, dynamic_range=10, border=10, hdu_ext=[0, 1], chunk_size=15, threshold_muse=0.0, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to align MUSE images onto a reference image.</p>
<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.compare">
<code class="sig-name descname">compare</code><span class="sig-paren">(</span><em class="sig-param">start_nfig=1</em>, <em class="sig-param">nlevels=10</em>, <em class="sig-param">levels=None</em>, <em class="sig-param">convolve_muse=0.0</em>, <em class="sig-param">convolve_reference=0.0</em>, <em class="sig-param">samecontour=True</em>, <em class="sig-param">nima=0</em>, <em class="sig-param">showcontours=True</em>, <em class="sig-param">showcuts=True</em>, <em class="sig-param">shownormalise=True</em>, <em class="sig-param">showdiff=True</em>, <em class="sig-param">normalise=True</em>, <em class="sig-param">median_filter=True</em>, <em class="sig-param">ncuts=5</em>, <em class="sig-param">percentage=5.0</em>, <em class="sig-param">nima_museref=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the projected reference and MUSE image
by plotting the contours, the difference and vertical/horizontal cuts.</p>
<dl class="simple">
<dt>nima: int</dt><dd><p>Index of image to consider</p>
</dd>
</dl>
<p>showcontours: bool [True]
showcuts: bool [True]
shownormalise: bool [True]
showdiff: bool [True]</p>
<blockquote>
<div><p>All options corresponding to 1 specific plot. By default
show them all (all True)</p>
</div></blockquote>
<dl class="simple">
<dt>ncuts: int [5]</dt><dd><p>Number of vertical / horizontal cuts along the ratio
between the 2 maps to be shown (“cuts”)</p>
</dd>
<dt>percentage: float [5]</dt><dd><p>Used to compute which percentile to show</p>
</dd>
<dt>start_nfig: int [1]</dt><dd><p>Number of the matplotlib Figure to start with</p>
</dd>
<dt>nlevels: int [10]</dt><dd><p>Number of levels for the contour plots</p>
</dd>
<dt>levels: list of float [None]</dt><dd><p>Specific list of levels if any (default is None)</p>
</dd>
<dt>convolve_muse: float [0]</dt><dd><p>If not 0, will convolve with a gaussian of that sigma</p>
</dd>
<dt>convolve_reference: float [0]</dt><dd><p>If not 0, will convolve the reference image
with a gaussian of that sigma</p>
</dd>
<dt>samecontour: bool [True]</dt><dd><p>If True, will use the same levels for both images
(this is recommended). Otherwise levels can be
automatically derived from percentiles, but will
not necessarily be the same (which can bring
confusion but may sometimes be useful).</p>
</dd>
</dl>
<p>nima_museref</p>
<p>Makes a maximum of 4 figures</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.find_cross_peak">
<code class="sig-name descname">find_cross_peak</code><span class="sig-paren">(</span><em class="sig-param">muse_hdu</em>, <em class="sig-param">name_musehdr</em>, <em class="sig-param">rotation=0.0</em>, <em class="sig-param">minflux=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.find_cross_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.find_cross_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns the MUSE HDU to a reference HDU</p>
<p>muse_hdu: MUSE hdu file
name_musehdr: name of the muse hdr to save
rotation: Angle in degrees (0).
minflux: minimum flux to be used in the cross-correlation</p>
<blockquote>
<div><p>Flux below that value will be set to 0.
Default is 0.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>xpix_cross</em></p></li>
<li><p><strong>ypix_cross</strong> (<em>x and y pixel coordinates of the cross-correlation peak</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.find_ncross_peak">
<code class="sig-name descname">find_ncross_peak</code><span class="sig-paren">(</span><em class="sig-param">list_nima=None</em>, <em class="sig-param">minflux=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.find_ncross_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.find_ncross_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the cross correlation peaks on all MUSE images
Derive the self.cross_off_pixel/arcsec parameters</p>
<dl class="simple">
<dt>list_nima: list of indices for images to process</dt><dd><p>Should be a list. Default is None
and all images are processed</p>
</dd>
<dt>minflux: float [None]</dt><dd><p>minimum flux to be used in the cross-correlation
Flux below that value will be set to 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.get_image_normfactor">
<code class="sig-name descname">get_image_normfactor</code><span class="sig-paren">(</span><em class="sig-param">nima=0</em>, <em class="sig-param">median_filter=True</em>, <em class="sig-param">convolve_muse=0.0</em>, <em class="sig-param">convolve_reference=0.0</em>, <em class="sig-param">threshold_muse=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.get_image_normfactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.get_image_normfactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the normalisation factor for image nima</p>
<dl class="simple">
<dt>nima: int</dt><dd><p>Index of image to consider</p>
</dd>
<dt>median_filter: bool</dt><dd><p>If True, will median filter</p>
</dd>
<dt>convolve_muse: float [0]</dt><dd><p>Will convolve the image with index nima
with a gaussian with that sigma. 0 means no convolution</p>
</dd>
<dt>convolve_reference: float [0]</dt><dd><p>Will convolve the reference image
with a gaussian with that sigma. 0 means no convolution</p>
</dd>
<dt>threshold_muse: float [None]</dt><dd><p>Threshold for the input image flux to consider</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>data</strong> (<em>2d array</em>)</p></li>
<li><p><strong>refdata</strong> (<em>2d array</em>) – The 2 arrays (input, reference) after processing</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.init_guess_offset">
<code class="sig-name descname">init_guess_offset</code><span class="sig-paren">(</span><em class="sig-param">firstguess='crosscorr'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.init_guess_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.init_guess_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise first guess, either from cross-correlation (default)
or from an Offset FITS Table</p>
<dl class="simple">
<dt>firstguess: str</dt><dd><p>If “crosscorr” uses cross-correlation to get the first guess
of the offsets. If “fits” uses the input fits table.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.open_hdu">
<code class="sig-name descname">open_hdu</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.open_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.open_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the HDU of the MUSE and reference images</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.open_offset_table">
<code class="sig-name descname">open_offset_table</code><span class="sig-paren">(</span><em class="sig-param">name_table=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.open_offset_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.open_offset_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Read offset table from fits file</p>
<dl class="simple">
<dt>name_table: str</dt><dd><p>Name of the input OFFSET table</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>status</strong> (<em>None if no table name is given, False if file does not</em>) – exist, True if it does</p></li>
<li><p><strong>Table</strong> (<em>the result of a astropy.Table.read of the fits table</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.print_images_names">
<code class="sig-name descname">print_images_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.print_images_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.print_images_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out the names of the images being considered for alignment</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.print_offset">
<code class="sig-name descname">print_offset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.print_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.print_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out the offset from the Alignment class</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.print_offset_fromfits">
<code class="sig-name descname">print_offset_fromfits</code><span class="sig-paren">(</span><em class="sig-param">name_table=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.print_offset_fromfits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.print_offset_fromfits" title="Permalink to this definition">¶</a></dt>
<dd><p>Print offset table from fits file</p>
<dl class="simple">
<dt>name_table: str</dt><dd><p>Name of the input OFFSET table</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">nima=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the offset and comparison</p>
<dl class="simple">
<dt>nima: int</dt><dd><p>Index of the image to consider</p>
</dd>
<dt>extra_pixel: list of 2 floats [0,0]</dt><dd><p>Offsets in X and Y in pixels to add to the existing
guessed offsets
IMPORTANT NOTE: extra_pixel will be considered first
(before extra_arcsec).</p>
</dd>
<dt>extra_arcsec: list of 2 floats [0,0]</dt><dd><p>Offsets in X and Y in arcsec to add to the existing
guessed offsets. Ignored if extra_pixel is given.</p>
</dd>
<dt>extra_rotation: rotation in degrees [0]</dt><dd><p>Angle to rotate the image (in degrees)</p>
</dd>
<dt>threshold_muse: float [0]</dt><dd><p>Threshold to consider when plotting the comparison</p>
</dd>
</dl>
<dl class="simple">
<dt>plot (bool): if True, will plot the comparison</dt><dd><dl class="simple">
<dt>If not used, will use the default self.plot</dt><dd><ul class="simple">
<li><p>flux comparison (1 to 1)</p></li>
<li><p>Map of the flux ratio</p></li>
<li><p>Contours of the two scaled maps</p></li>
<li><p>Cuts of the division between the 2 maps</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p>See also all arguments from self.compare</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.save_fits_offset_table">
<code class="sig-name descname">save_fits_offset_table</code><span class="sig-paren">(</span><em class="sig-param">name_output_table=None</em>, <em class="sig-param">folder_output_table=None</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">save_flux_scale=True</em>, <em class="sig-param">save_other_params=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.save_fits_offset_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.save_fits_offset_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the Offsets into a fits Table</p>
<dl class="simple">
<dt>folder_output_table: str [None]</dt><dd><p>Folder of the output table. If None (default) the folder
for the input offset table will be used or alternatively
the folder of the MUSE images.</p>
</dd>
<dt>name_output_table: str [None]</dt><dd><p>Name of the output fits table. If None (default) it will
use the one given in self.name_output_table</p>
</dd>
<dt>overwrite: bool [False]</dt><dd><p>If True, overwrite if the file exists</p>
</dd>
<dt>suffix: str [“”]</dt><dd><p>Suffix to be used to add to the input name. This is handy
to just modify the given fits name with a suffix
(e.g., version number).</p>
</dd>
<dt>save_flux_scale: bool</dt><dd><p>If True (default), saving the flux in FLUX_SCALE
If False, do not save the flux conversion</p>
</dd>
<dt>save_other_params: bool</dt><dd><p>If True (default), saving the background + rotation
If False, do not save these 2 parameters.</p>
</dd>
</dl>
<p>A fits table with the given name (using the suffix if any)</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.save_image">
<code class="sig-name descname">save_image</code><span class="sig-paren">(</span><em class="sig-param">newfits_name=None</em>, <em class="sig-param">nima=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.save_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.save_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the newly determined hdu</p>
<dl class="simple">
<dt>newfits_name: str</dt><dd><p>Name of the fits file to be used</p>
</dd>
<dt>nima: int [0]</dt><dd><p>Index of the image to save</p>
</dd>
</dl>
<p>A new fits file</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.shift">
<code class="sig-name descname">shift</code><span class="sig-paren">(</span><em class="sig-param">nima=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Create New HDU after shifting it with the right offset
(only considering image with index nima)</p>
<dl class="simple">
<dt>nima: int</dt><dd><p>Index of image to consider</p>
</dd>
</dl>
<p>Does not return anything, but could in principle</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.shift_arcsecond">
<code class="sig-name descname">shift_arcsecond</code><span class="sig-paren">(</span><em class="sig-param">extra_arcsec=[0.0, 0.0], extra_rotation=0.0, nima=0, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.shift_arcsecond"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.shift_arcsecond" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift image with index nima with the total offset
after adding any extra given offset
This does not return anything but could in principle
if using the output of the self.shift</p>
<dl class="simple">
<dt>extra_arcsec: list of 2 floats [0,0]</dt><dd><p>Extra offsets (x,y) in arcseconds</p>
</dd>
</dl>
<p>extra_rotation: rotation in degrees [0]
nima: int</p>
<blockquote>
<div><p>Index of image to consider</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.show_linearfit_values">
<code class="sig-name descname">show_linearfit_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.show_linearfit_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.show_linearfit_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Print some information about the linearly fitted parameters
pertaining to the normalisation.</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.align_pipe.AlignMusePointing.show_norm_factors">
<code class="sig-name descname">show_norm_factors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMusePointing.show_norm_factors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMusePointing.show_norm_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Print some information about the normalisation factors.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.arcsec_to_pixel">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">arcsec_to_pixel</code><span class="sig-paren">(</span><em class="sig-param">hdu, xy_arcsec=[0.0, 0.0]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#arcsec_to_pixel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.arcsec_to_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform from arcsec to pixel for the muse image
using the hdu to extract the WCS, hence the scaling.</p>
<dl class="simple">
<dt>hdu: astropy hdu (fits)</dt><dd><p>Input hdu which includes a WCS</p>
</dd>
<dt>xy_arcsec: list of 2 floats ([0,0])</dt><dd><p>Coordinates to transform from arcsec to pixel.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>xpix, ypix</strong> (<em>2 floats</em>) – Pixel coordinates</p></li>
<li><p><strong>See also</strong> (<em>pixel_to_arcsec (align_pipe.py)</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.chunk_stats">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">chunk_stats</code><span class="sig-paren">(</span><em class="sig-param">list_data</em>, <em class="sig-param">chunk_size=15</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#chunk_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.chunk_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut the datasets in 2d chunks and take the median
Return the set of medians for all chunks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_data</strong> (<em>list of np.arrays</em>) – List of arrays with the same sizes/shapes</p></li>
<li><p><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of pixel (one D of a 2D chunk)
of the chunk to consider</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>2 arrays of the medians and</dt><dd><p>standard deviations for the given datasets analysed in chunks.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>median, standard</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.create_offset_table">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">create_offset_table</code><span class="sig-paren">(</span><em class="sig-param">image_names=[]</em>, <em class="sig-param">table_folder=''</em>, <em class="sig-param">table_name='dummy_offset_table.fits'</em>, <em class="sig-param">overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#create_offset_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.create_offset_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an offset list table from a given set of images. It will use
the MJD and DATE as read from the descriptors of the images. The names for
these keywords is stored in the dictionary default_offset_table from
config_pipe.py</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_names</strong> (<em>list of str</em>) – List of image names to be considered.</p></li>
<li><p><strong>table_folder</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – folder of the table</p></li>
<li><p><strong>table_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the table to save [‘dummy_offset_table.fits’]</p></li>
<li><p><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if the table exists, it will be overwritten if set
to True only. [False]</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Creates:</dt><dd><p>A fits table with the output given name.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.crop_data">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">crop_data</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">border=10</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#crop_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.crop_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop a 2D data and return it cropped after a border
has been removed (number of pixels) from each edge
(borderx2 pixels are removed from each dimension)</p>
<dl class="simple">
<dt>data: 2d array</dt><dd><p>Array which has the signal to be cropped</p>
</dd>
<dt>border: int</dt><dd><p>Number of pixels to be cropped at each edge</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>cdata</strong> – Cropped data array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>2d array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.filtermed_image">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">filtermed_image</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">border=10</em>, <em class="sig-param">filter_size=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#filtermed_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.filtermed_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Process image by removing the borders
and filtering it via a median filter</p>
<dl class="simple">
<dt>data: 2d array</dt><dd><p>Array to be processed</p>
</dd>
<dt>border: int</dt><dd><p>Number of pixels to remove at each edge</p>
</dd>
<dt>filter_size: float</dt><dd><p>Size of the filtering (median)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>cdata</strong> – Processed array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>2d array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.get_conversion_factor">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">get_conversion_factor</code><span class="sig-paren">(</span><em class="sig-param">input_unit</em>, <em class="sig-param">output_unit</em>, <em class="sig-param">filter_name='WFI'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#get_conversion_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.get_conversion_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion of units from an input one
to an output one</p>
<dl class="simple">
<dt>input_unit: astropy unit</dt><dd><p>Input astropy unit to analyse</p>
</dd>
<dt>output_unit: astropy unit</dt><dd><p>Astropy unit to compare to input unit.</p>
</dd>
<dt>equivalencies: astropy equivalency</dt><dd><p>Used in case there is an existing equivalency
to help the conversion</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>conversion</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>astropy unit conversion</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.get_image_norm_poly">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">get_image_norm_poly</code><span class="sig-paren">(</span><em class="sig-param">data1</em>, <em class="sig-param">data2</em>, <em class="sig-param">chunk_size=15</em>, <em class="sig-param">threshold1=0.0</em>, <em class="sig-param">threshold2=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#get_image_norm_poly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.get_image_norm_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the normalisation factor between two datasets.</p>
<p>Including the background and slope. This uses the function
regress_odr which is included in align_pipe.py and itself
makes use of ODR in scipy.odr.ODR.</p>
<dl class="simple">
<dt>Args</dt><dd><p>data1 (array):
data2 (array): 2 arrays (2D) of identical shapes
chunk_size (int): Size of the chunk to bin the images
threshold1 (float):
threshold2 (float): 2 floats defining the lower threshold for filtering</p>
</dd>
<dt>Returns</dt><dd><dl class="simple">
<dt>result: python structure</dt><dd><p>Result of the regression (ODR)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.is_sequence">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">is_sequence</code><span class="sig-paren">(</span><em class="sig-param">arg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#is_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.is_sequence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.my_linear_model">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">my_linear_model</code><span class="sig-paren">(</span><em class="sig-param">B</em>, <em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#my_linear_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.my_linear_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear function for the regression.</p>
<dl class="simple">
<dt>Args</dt><dd><p>B (1D array of 2): Input 1D polynomial parameters (0=constant, 1=slope)
x (array): Array which will be multiplied by the polynomial</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>An array = B[1] * (x + B[0])</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.open_new_wcs_figure">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">open_new_wcs_figure</code><span class="sig-paren">(</span><em class="sig-param">nfig</em>, <em class="sig-param">mywcs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#open_new_wcs_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.open_new_wcs_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a new figure (with number nfig) with given wcs.
If not WCS is provided, just opens a subplot in that figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nfig</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of the Figure to consider</p></li>
<li><p><strong>mywcs</strong> (<em>astropy.wcs.WCS</em>) – Input WCS to open a new figure</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Figure itself with the subplots with the wcs projection</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>fig, subplot</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.pixel_to_arcsec">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">pixel_to_arcsec</code><span class="sig-paren">(</span><em class="sig-param">hdu, xy_pixel=[0.0, 0.0]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#pixel_to_arcsec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.pixel_to_arcsec" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform from arcsec to pixel for the muse image
using the hdu to extract the WCS, hence the scaling.</p>
<dl class="simple">
<dt>hdu: astropy hdu (fits)</dt><dd><p>Input hdu which includes a WCS</p>
</dd>
<dt>xy_pixel: list of 2 floats ([0,0])</dt><dd><p>Coordinates to transform from pixel to arcsec</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>xarc, yarc</strong> (<em>2 floats</em>) – Arcseconds coordinates</p></li>
<li><p><strong>See also</strong> (<em>arcsec_to_pixel (align_pipe.py)</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.prepare_image">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">prepare_image</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">border=10</em>, <em class="sig-param">dynamic_range=10</em>, <em class="sig-param">median_window=10</em>, <em class="sig-param">minflux=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#prepare_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.prepare_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Process image by squeezing the range, removing
the borders and filtering it. The image is first filtered,
then it is cropped. All values below a given minimum are
set to 0 and all Nan set to 0 or infinity accordingly.</p>
<dl class="simple">
<dt>data: 2d array</dt><dd><p>Input array to process</p>
</dd>
<dt>dynamic_range: float [10]</dt><dd><p>Dynamic range used to squash the bright pixels down</p>
</dd>
<dt>median_window: int [10]</dt><dd><p>Size of the window used for the median filtering.</p>
</dd>
<dt>minflux: float [0]</dt><dd><p>Value of the minimum flux allowed.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.regress_odr">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">regress_odr</code><span class="sig-paren">(</span><em class="sig-param">x, y, sx, sy, beta0=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#regress_odr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.regress_odr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an ODR linear regression using scipy.odr.ODR</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – Input nD arrays with signal</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – </p></li>
<li><p><strong>sx</strong> (<em>np.array</em>) – Input nD arrays (as x,y) with standard deviations</p></li>
<li><p><strong>sy</strong> (<em>np.array</em>) – </p></li>
<li><p><strong>beta0</strong> (<em>list of 2 floats</em>) – Initial guess for the constant and slope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>result of the ODR analysis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.rotate_pixtable">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">rotate_pixtable</code><span class="sig-paren">(</span><em class="sig-param">folder=''</em>, <em class="sig-param">name_suffix=''</em>, <em class="sig-param">nifu=1</em>, <em class="sig-param">angle=0.0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#rotate_pixtable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.rotate_pixtable" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a single IFU PIXTABLE_OBJECT
Will thus update the HIERARCH ESO INS DROT POSANG keyword.</p>
<dl class="simple">
<dt>folder: str</dt><dd><p>name of the folder where the PIXTABLE are</p>
</dd>
<dt>name_suffix: str</dt><dd><p>name of the suffix to be used on top of PIXTABLE_OBJECT</p>
</dd>
<dt>nifu: int</dt><dd><p>Pixtable number. Default is 1</p>
</dd>
<dt>angle: float</dt><dd><p>Angle to rotate (in degrees)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.align_pipe.rotate_pixtables">
<code class="sig-prename descclassname">pymusepipe.align_pipe.</code><code class="sig-name descname">rotate_pixtables</code><span class="sig-paren">(</span><em class="sig-param">folder=''</em>, <em class="sig-param">name_suffix=''</em>, <em class="sig-param">list_ifu=None</em>, <em class="sig-param">angle=0.0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#rotate_pixtables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.align_pipe.rotate_pixtables" title="Permalink to this definition">¶</a></dt>
<dd><p>Will update the derotator angle in each of the 24 pixtables
Using a loop on rotate_pixtable</p>
<p>Will thus update the HIERARCH ESO INS DROT POSANG keyword.</p>
<dl class="simple">
<dt>folder: str</dt><dd><p>name of the folder where the PIXTABLE are</p>
</dd>
<dt>name_suffix: str</dt><dd><p>name of the suffix to be used on top of PIXTABLE_OBJECT</p>
</dd>
<dt>list_ifu: list[int]</dt><dd><p>List of Pixtable numbers. If None, will do all 24</p>
</dd>
<dt>angle: float</dt><dd><p>Angle to rotate (in degrees)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.check_pipe">
<span id="pymusepipe-check-pipe-module"></span><h2>pymusepipe.check_pipe module<a class="headerlink" href="#module-pymusepipe.check_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS check pipeline module</p>
<dl class="class">
<dt id="pymusepipe.check_pipe.CheckPipe">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.check_pipe.</code><code class="sig-name descname">CheckPipe</code><span class="sig-paren">(</span><em class="sig-param">mycube='DATACUBE_FINAL.fits'</em>, <em class="sig-param">pdf_name='check_pipe.pdf'</em>, <em class="sig-param">pipe=None</em>, <em class="sig-param">standard_set=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.musepipe.MusePipe" title="pymusepipe.musepipe.MusePipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.musepipe.MusePipe</span></code></a></p>
<p>Checking the outcome of the data reduction</p>
<dl class="method">
<dt id="pymusepipe.check_pipe.CheckPipe.check_given_images">
<code class="sig-name descname">check_given_images</code><span class="sig-paren">(</span><em class="sig-param">suffix=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_given_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_given_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Check all images with given suffix</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.check_pipe.CheckPipe.check_master_bias_flat">
<code class="sig-name descname">check_master_bias_flat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_master_bias_flat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_master_bias_flat" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking the Master bias and Master flat</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.check_pipe.CheckPipe.check_quadrants">
<code class="sig-name descname">check_quadrants</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_quadrants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_quadrants" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking spectra from the 4 quadrants</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.check_pipe.CheckPipe.check_sky_spectra">
<code class="sig-name descname">check_sky_spectra</code><span class="sig-paren">(</span><em class="sig-param">suffix</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_sky_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_sky_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Check all sky spectra from the exposures</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.check_pipe.CheckPipe.check_white_line_images">
<code class="sig-name descname">check_white_line_images</code><span class="sig-paren">(</span><em class="sig-param">line='Ha'</em>, <em class="sig-param">velocity=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_white_line_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_white_line_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Building the White and Ha images and
Adding them on the page</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.check_pipe.print_plot">
<code class="sig-prename descclassname">pymusepipe.check_pipe.</code><code class="sig-name descname">print_plot</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#print_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.check_pipe.print_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pymusepipe.combine">
<span id="pymusepipe-combine-module"></span><h2>pymusepipe.combine module<a class="headerlink" href="#module-pymusepipe.combine" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS combine module</p>
<dl class="class">
<dt id="pymusepipe.combine.MusePointings">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">MusePointings</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">dict_exposures=None</em>, <em class="sig-param">prefix_fixed_pixtables='tmask'</em>, <em class="sig-param">folder_config=''</em>, <em class="sig-param">rc_filename=None</em>, <em class="sig-param">cal_filename=None</em>, <em class="sig-param">combined_folder_name='Combined'</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">offset_table_name=None</em>, <em class="sig-param">folder_offset_table=None</em>, <em class="sig-param">log_filename='MusePipeCombine.log'</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">debug=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.create_sof.SofPipe" title="pymusepipe.create_sof.SofPipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.create_sof.SofPipe</span></code></a>, <a class="reference internal" href="#pymusepipe.recipes_pipe.PipeRecipes" title="pymusepipe.recipes_pipe.PipeRecipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.recipes_pipe.PipeRecipes</span></code></a></p>
<dl class="method">
<dt id="pymusepipe.combine.MusePointings.create_all_pointings_wcs">
<code class="sig-name descname">create_all_pointings_wcs</code><span class="sig-paren">(</span><em class="sig-param">filter_list='white'</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_all_pointings_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_all_pointings_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create all pointing masks one by one
as well as the wcs for each individual pointings. Using the grid
from the global WCS of the mosaic but restricting it to the
range of non-NaN.
Hence this needs a global WCS mosaic as a reference to work.</p>
<dl class="simple">
<dt>filter_list = list of str</dt><dd><p>List of filter names to be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.create_combined_wcs">
<code class="sig-name descname">create_combined_wcs</code><span class="sig-paren">(</span><em class="sig-param">refcube_name=None, lambdaminmax_wcs=[6800, 6805], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_combined_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_combined_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the reference WCS from the full mosaic
with a given range of lambda.</p>
<dl class="simple">
<dt>refcube_name: str</dt><dd><p>Name of the cube. Can be None, and then the final
datacube from the combine folder will be used.</p>
</dd>
<dt>wave1: float - optional</dt><dd><p>Wavelength taken for the extraction. Should only
be present in all spaxels you wish to get.</p>
</dd>
<dt>prefix_wcs: str - optional</dt><dd><p>Prefix to be added to the name of the input cube.
By default, will use “refwcs”.</p>
</dd>
<dt>add_targetname: bool [True]</dt><dd><p>Add the name of the target to the name of the output
WCS reference cube. Default is True.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.create_pointing_wcs">
<code class="sig-name descname">create_pointing_wcs</code><span class="sig-paren">(</span><em class="sig-param">pointing, lambdaminmax_mosaic=[4700, 9400], filter_list='white', **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_pointing_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_pointing_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the mask of a given pointing
And also a WCS file which can then be used to compute individual
pointings with a fixed WCS.</p>
<dl class="simple">
<dt>pointing: int</dt><dd><p>Number of the pointing</p>
</dd>
<dt>filter_list = list of str</dt><dd><p>List of filter names to be used.</p>
</dd>
<dt>Creates:</dt><dd><p>Pointing mask WCS cube</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Name of the created WCS cube</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.create_reference_wcs">
<code class="sig-name descname">create_reference_wcs</code><span class="sig-paren">(</span><em class="sig-param">pointings_wcs=True</em>, <em class="sig-param">mosaic_wcs=True</em>, <em class="sig-param">reference_cube=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_reference_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_reference_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the WCS reference files, for all individual pointings and for
the mosaic.</p>
<dl class="simple">
<dt>pointings_wcs: bool [True]</dt><dd><p>Will run the individual pointing WCS</p>
</dd>
<dt>mosaic_wcs: bool [True]</dt><dd><p>Will run the combined WCS</p>
</dd>
</dl>
<p>lambdaminmax: [float, float]</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.extract_combined_narrow_wcs">
<code class="sig-name descname">extract_combined_narrow_wcs</code><span class="sig-paren">(</span><em class="sig-param">name_cube=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.extract_combined_narrow_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.extract_combined_narrow_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the reference WCS from the full mosaic with
only 2 lambdas</p>
<dl class="simple">
<dt>name_cube: str</dt><dd><p>Name of the cube. Can be None, and then the final
datacube from the combine folder will be used.</p>
</dd>
<dt>wave1: float - optional</dt><dd><p>Wavelength taken for the extraction. Should only
be present in all spaxels you wish to get.</p>
</dd>
<dt>prefix_wcs: str - optional</dt><dd><p>Prefix to be added to the name of the input cube.
By default, will use “refwcs”.</p>
</dd>
<dt>add_targetname: bool [True]</dt><dd><p>Add the name of the target to the name of the output
WCS reference cube. Default is True.</p>
</dd>
<dt>Creates:</dt><dd><p>Combined narrow band WCS cube</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>name of the created cube</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.full_pointings_list">
<em class="property">property </em><code class="sig-name descname">full_pointings_list</code><a class="headerlink" href="#pymusepipe.combine.MusePointings.full_pointings_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.goto_folder">
<code class="sig-name descname">goto_folder</code><span class="sig-paren">(</span><em class="sig-param">newpath</em>, <em class="sig-param">addtolog=False</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.goto_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.goto_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Changing directory and keeping memory of the old working one</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.goto_origfolder">
<code class="sig-name descname">goto_origfolder</code><span class="sig-paren">(</span><em class="sig-param">addtolog=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.goto_origfolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.goto_origfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Go back to original folder</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.goto_prevfolder">
<code class="sig-name descname">goto_prevfolder</code><span class="sig-paren">(</span><em class="sig-param">addtolog=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.goto_prevfolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.goto_prevfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Go back to previous folder</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.run_combine">
<code class="sig-name descname">run_combine</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='pointings_combine', lambdaminmax=[4000.0, 10000.0], list_pointings=None, suffix='', **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.run_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.run_combine" title="Permalink to this definition">¶</a></dt>
<dd><p>MUSE Exp_combine treatment of the reduced pixtables
Will run the esorex muse_exp_combine routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>lambdaminmax</strong> (<em>list of 2 floats</em>) – Minimum and maximum lambda values to consider for the combine</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Suffix to be used for the output name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.run_combine_all_single_pointings">
<code class="sig-name descname">run_combine_all_single_pointings</code><span class="sig-paren">(</span><em class="sig-param">add_suffix=''</em>, <em class="sig-param">sof_filename='pointings_combine'</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.run_combine_all_single_pointings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.run_combine_all_single_pointings" title="Permalink to this definition">¶</a></dt>
<dd><p>Run for all pointings individually, provided in the
list of pointings, by just looping over the pointings.</p>
<dl class="simple">
<dt>list_pointings: list of int</dt><dd><p>By default to None (using the default self.list_pointings).
Otherwise a list of pointings you wish to conduct
a combine but for each individual pointing.</p>
</dd>
<dt>add_suffix: str</dt><dd><p>Additional suffix. ‘PXX’ where XX is the pointing number
will be automatically added to that add_suffix for
each individual pointing.</p>
</dd>
<dt>sof_filename: str</dt><dd><p>Name (suffix only) of the sof file for this combine.
By default, it is set to ‘pointings_combine’.</p>
</dd>
<dt>lambdaminmax: list of 2 floats [in Angstroems]</dt><dd><p>Minimum and maximum lambda values to consider for the combine.
Default is 4000 and 10000 for the lower and upper limits, resp.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.run_combine_single_pointing">
<code class="sig-name descname">run_combine_single_pointing</code><span class="sig-paren">(</span><em class="sig-param">pointing</em>, <em class="sig-param">add_suffix=''</em>, <em class="sig-param">sof_filename='pointing_combine'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.run_combine_single_pointing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.run_combine_single_pointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the combine routine on just one single pointing</p>
<dl class="simple">
<dt>pointing: int</dt><dd><p>Pointing number. No default: must be provided.</p>
</dd>
<dt>add_suffix: str</dt><dd><p>Additional suffix. ‘PXX’ where XX is the pointing number
will be automatically added to that add_suffix.</p>
</dd>
<dt>sof_filename: str</dt><dd><p>Name (suffix only) of the sof file for this combine.
By default, it is set to ‘pointings_combine’.</p>
</dd>
<dt>lambdaminmax: list of 2 floats [in Angstroems]</dt><dd><p>Minimum and maximum lambda values to consider for the combine.
Default is 4000 and 10000 for the lower and upper limits, resp.</p>
</dd>
<dt>wcs_from_mosaic: bool</dt><dd><p>True by default, meaning that the WCS of the mosaic will be used.
If not there, will ignore it.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.combine.MusePointings.set_fullpath_names">
<code class="sig-name descname">set_fullpath_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.set_fullpath_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.set_fullpath_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Create full path names to be used
That includes: root, data, target, but also _dict_paths, paths</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.combine.build_dict_exposures">
<code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">build_dict_exposures</code><span class="sig-paren">(</span><em class="sig-param">target_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#build_dict_exposures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.build_dict_exposures" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target_path</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dict_expo</strong> – Dictionary of exposures in each pointing</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.combine.get_list_exposures">
<code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">get_list_exposures</code><span class="sig-paren">(</span><em class="sig-param">pointing_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_exposures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.get_list_exposures" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting a list of exposures from a given path</p>
<p>pointing_path: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>list_expos</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.combine.get_list_periods">
<code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">get_list_periods</code><span class="sig-paren">(</span><em class="sig-param">root_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_periods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.get_list_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting a list of existing periods
for a given path</p>
<p>path: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>list_targets</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.combine.get_list_pointings">
<code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">get_list_pointings</code><span class="sig-paren">(</span><em class="sig-param">target_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_pointings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.get_list_pointings" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting a list of existing pointings
for a given path</p>
<p>target_path: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>list_pointings</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.combine.get_list_targets">
<code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">get_list_targets</code><span class="sig-paren">(</span><em class="sig-param">period_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.get_list_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting a list of existing periods
for a given path</p>
<p>period_path: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>list_targets</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.combine.get_pixtable_list">
<code class="sig-prename descclassname">pymusepipe.combine.</code><code class="sig-name descname">get_pixtable_list</code><span class="sig-paren">(</span><em class="sig-param">target_path=''</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_pixtable_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.combine.get_pixtable_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a list of reduced pixtables</p>
<dl class="simple">
<dt>target_path: str</dt><dd><p>Path for the target folder</p>
</dd>
<dt>list_pointings: list of int</dt><dd><p>List of integers, providing the list of pointings to consider</p>
</dd>
<dt>suffix: str</dt><dd><p>Additional suffix, if needed, for the names of the PixTables.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.config_pipe">
<span id="pymusepipe-config-pipe-module"></span><h2>pymusepipe.config_pipe module<a class="headerlink" href="#module-pymusepipe.config_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS configuration module</p>
<dl class="function">
<dt id="pymusepipe.config_pipe.get_suffix_product">
<code class="sig-prename descclassname">pymusepipe.config_pipe.</code><code class="sig-name descname">get_suffix_product</code><span class="sig-paren">(</span><em class="sig-param">expotype</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/config_pipe.html#get_suffix_product"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.config_pipe.get_suffix_product" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pymusepipe.create_sof">
<span id="pymusepipe-create-sof-module"></span><h2>pymusepipe.create_sof module<a class="headerlink" href="#module-pymusepipe.create_sof" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS creating sof file module</p>
<dl class="class">
<dt id="pymusepipe.create_sof.SofDict">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.create_sof.</code><code class="sig-name descname">SofDict</code><a class="reference internal" href="../_modules/pymusepipe/create_sof.html#SofDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.create_sof.SofDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/collections.html#collections.OrderedDict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a></p>
<p>New Dictionary for the SOF writing
Inheriting from ordered Dictionary</p>
</dd></dl>

<dl class="class">
<dt id="pymusepipe.create_sof.SofPipe">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.create_sof.</code><code class="sig-name descname">SofPipe</code><a class="reference internal" href="../_modules/pymusepipe/create_sof.html#SofPipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.create_sof.SofPipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>SofPipe class containing all the SOF writing modules</p>
<dl class="method">
<dt id="pymusepipe.create_sof.SofPipe.write_sof">
<code class="sig-name descname">write_sof</code><span class="sig-paren">(</span><em class="sig-param">sof_filename</em>, <em class="sig-param">new=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/create_sof.html#SofPipe.write_sof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.create_sof.SofPipe.write_sof" title="Permalink to this definition">¶</a></dt>
<dd><p>Feeding an sof file with input filenames from a dictionary</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pymusepipe.cube_convolve">
<span id="pymusepipe-cube-convolve-module"></span><h2>pymusepipe.cube_convolve module<a class="headerlink" href="#module-pymusepipe.cube_convolve" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS convolve module</p>
<dl class="function">
<dt id="pymusepipe.cube_convolve.convolution_kernel">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">convolution_kernel</code><span class="sig-paren">(</span><em class="sig-param">input_psf</em>, <em class="sig-param">target_psf</em>, <em class="sig-param">scale=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#convolution_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.convolution_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the 3D convolution kernel starting from a 3D model of the original
PSF and a 2D model of the target PSF using pypher.</p>
<dl class="simple">
<dt>Parameters</dt><dd><p>input_psf (np.ndarray): 3D array with the model of the original PSF
target_psf (np.ndarray): 2D array with a model of the target PSF
scale (float): spatial scale of both PSF in arcsec/pix</p>
</dd>
<dt>Returns</dt><dd><dl class="simple">
<dt>conv_kernel (np.ndarray): 3D array with a convolution kernel</dt><dd><p>that varies as a function of wavelength.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.convolution_kernel_gaussian">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">convolution_kernel_gaussian</code><span class="sig-paren">(</span><em class="sig-param">fwhm_wave</em>, <em class="sig-param">target_fwhm</em>, <em class="sig-param">target_psf</em>, <em class="sig-param">scale=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#convolution_kernel_gaussian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.convolution_kernel_gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the 3D convolution kernel starting from a 3D model of the original
PSF and a 2D model of the target PSF using both gaussian functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fwhm_wave</strong> (<em>array</em>) – FWHM of the original PSF as a function of
wavelength</p></li>
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – fwhm of the target PSF</p></li>
<li><p><strong>target_psf</strong> (<em>np.ndarray</em>) – target psf2d</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – spatial scale of both PSF in arcsec/pix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>np.ndarray</dt><dd><p>3D array with a convolution kernel that varies as a function of
wavelength.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>conv_kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.cube_convolve">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">cube_convolve</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">kernel</em>, <em class="sig-param">variance=None</em>, <em class="sig-param">fft=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#cube_convolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.cube_convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve a 3D datacube</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datacube</strong> – </p></li>
<li><p><strong>kernel</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the convolved 3D data and its variance</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.cube_kernel">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">cube_kernel</code><span class="sig-paren">(</span><em class="sig-param">shape</em>, <em class="sig-param">wave</em>, <em class="sig-param">input_fwhm</em>, <em class="sig-param">target_fwhm</em>, <em class="sig-param">input_function</em>, <em class="sig-param">target_function</em>, <em class="sig-param">lambda0=6483.58</em>, <em class="sig-param">input_nmoffat=None</em>, <em class="sig-param">target_nmoffat=None</em>, <em class="sig-param">b=-3e-05</em>, <em class="sig-param">scale=0.2</em>, <em class="sig-param">compute_kernel='pypher'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#cube_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.cube_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function to create the convolution kernel for the datacube</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>array</em>) – the shape of the datacube that is going to be convolved.
It must be in the form (z, y, x).</p></li>
<li><p><strong>wave</strong> (<em>float array</em>) – wavelengths for the datacube</p></li>
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – fwhm of the target PSF.</p></li>
<li><p><strong>input_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – fwhm of the original PSF at the reference
wavelength lambda0</p></li>
<li><p><strong>input_function</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – function to be used to describe the input PSF</p></li>
<li><p><strong>target_function</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – function to be used to describe the target PSF</p></li>
<li><p><strong>lambda0</strong> – float, optional
the wavelength at which the original_fwhm has been measured.
Default: 6483.58 (central wavelenght of WFI_BB filter)</p></li>
<li><p><strong>input_nmoffat</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – power index of the original PSF if Moffat [None]</p></li>
<li><p><strong>target_nmoffat</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – power index for the target PSF if Moffat [None]</p></li>
<li><p><strong>b</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – steepness of the fwhm vs wavelength relation. Default: -3e-5</p></li>
<li><p><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – wavelength dispersion in AA/px</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – spatial pixel scale of the PSFs in arcsec/pix</p></li>
<li><p><strong>compute_kernel</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – method to compute the convolution kernel.
It can be ‘pypher’ or ‘gaussian’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>np.ndarray</dt><dd><p>3D array to be used in the convolution</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.gaussian_kernel">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">gaussian_kernel</code><span class="sig-paren">(</span><em class="sig-param">fwhm</em>, <em class="sig-param">size</em>, <em class="sig-param">scale=0.2</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#gaussian_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.gaussian_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian kernel.
Input:</p>
<blockquote>
<div><p>fwhm (float): fwhm of the Gaussian kernel, in arcsec.
size (int, ndarray): size of the requested kernel along each axis.</p>
<blockquote>
<div><p>If <a href="#id1"><span class="problematic" id="id2">``</span></a>size’’ is a scalar number the final kernel will be a square of
side <a href="#id3"><span class="problematic" id="id4">``</span></a>size’’. If <a href="#id5"><span class="problematic" id="id6">``</span></a>size’’ has two element they must be in
(y_size, x_size) order. In each case size must be an integer number
of pixels.</p>
</div></blockquote>
<p>scale (float): pixel scale of the image
<a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs: is there to absorb any additional parameter which could be</p>
<blockquote>
<div><p>provided (but won’t be used).</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.moffat_kernel">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">moffat_kernel</code><span class="sig-paren">(</span><em class="sig-param">fwhm</em>, <em class="sig-param">size</em>, <em class="sig-param">n=1.0</em>, <em class="sig-param">scale=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#moffat_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.moffat_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Moffat kernel. Returns a Moffat function array according to given
input parameters. Using astropy Moffat2DKernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – fwhm of the Moffat kernel, in arcsec.</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – power index of the Moffat</p></li>
<li><p><strong>size</strong> (<em>int numpy array</em>) – size of the requested kernel along each axis.
If <a href="#id9"><span class="problematic" id="id10">``</span></a>size’’ is a scalar number the final kernel will be a square of
side <a href="#id11"><span class="problematic" id="id12">``</span></a>size’’. If <a href="#id13"><span class="problematic" id="id14">``</span></a>size’’ has two element they must be in
(y_size, x_size) order. In each case size must be an integer
number of pixels.</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – pixel scale of the image [optional]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.psf2d">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">psf2d</code><span class="sig-paren">(</span><em class="sig-param">size</em>, <em class="sig-param">fwhm</em>, <em class="sig-param">function='gaussian'</em>, <em class="sig-param">nmoffat=None</em>, <em class="sig-param">scale=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#psf2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.psf2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a model of the target PSF of the convolution. The target PSF does
not vary as a function of wavelenght, therefore the output is a 2D array.</p>
<dl>
<dt>Parameters</dt><dd><dl class="simple">
<dt>size: int, array-like</dt><dd><p>the size of the final array. If <a href="#id15"><span class="problematic" id="id16">``</span></a>size’’ is a scalar number the
kernel will be a square of side <a href="#id17"><span class="problematic" id="id18">``</span></a>size’’. If <a href="#id19"><span class="problematic" id="id20">``</span></a>size’’ has two
elements they must be in (y_size, x_size) order.</p>
</dd>
<dt>fwhm: float</dt><dd><p>the FWHM of the psf</p>
</dd>
<dt>function: str, optional</dt><dd><p>the function to model the target PSF. Only ‘gaussian’ or ‘moffat’
are accepted. Default: ‘gaussian’</p>
</dd>
</dl>
<p>nmoffat (float): Moffat power index. It must be defined if
function = ‘moffat’.</p>
<blockquote>
<div><p>Default: None</p>
</div></blockquote>
<dl class="simple">
<dt>scale: float, optional</dt><dd><p>the spatial scale of the final kernel</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><dl class="simple">
<dt>target: np.ndarray</dt><dd><p>a 2D array with the model of the target PSF.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.psf3d">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">psf3d</code><span class="sig-paren">(</span><em class="sig-param">wave</em>, <em class="sig-param">size</em>, <em class="sig-param">fwhm0</em>, <em class="sig-param">lambda0=6483.58</em>, <em class="sig-param">b=-3e-05</em>, <em class="sig-param">scale=0.2</em>, <em class="sig-param">nmoffat=None</em>, <em class="sig-param">function='moffat'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#psf3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.psf3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create the cube with the  lambda dependent PSF, following
a given slope and nominal wavelength.</p>
<dl>
<dt>Parameters</dt><dd><dl class="simple">
<dt>wave: np.ndarray</dt><dd><p>array with the wavelength axis of the datacube</p>
</dd>
<dt>size: int, array-like</dt><dd><p>the size of the 2D PSF.  If <a href="#id21"><span class="problematic" id="id22">``</span></a>size’’ is a scalar number the 2D PSF
kernel will be a square of side <a href="#id23"><span class="problematic" id="id24">``</span></a>size’’. If <a href="#id25"><span class="problematic" id="id26">``</span></a>size’’ has two element
they must be in (y_size, x_size) order.</p>
</dd>
<dt>fwhm0: float</dt><dd><p>the fwhm at the reference wavelength in arcseconds.</p>
</dd>
<dt>n: float</dt><dd><p>Power index of the Moffat profile. It is usually 2.8 for NOAO cubes
and 2.3 for AO cubes.</p>
</dd>
<dt>lambda0: float</dt><dd><p>reference wavelength at which fwhm0 is measured. Default: 6483.58.
(It’s the average wavelength for the WFI_BB filter)</p>
</dd>
<dt>b: float, optional</dt><dd><p>the steepness of the relation between wavelength and FWHM.
Default: -3e-5 (arcsec/A) (From MUSE team)</p>
</dd>
<dt>scale: float, optional</dt><dd><p>spatial scale of the new datacube in arcsec. Default: 0.2 (MUSE
spatial resolution).</p>
</dd>
</dl>
<p>function (str): ‘moffat’ or ‘gaussian’</p>
</dd>
<dt>Returns</dt><dd><dl class="simple">
<dt>psf_cube: np.array</dt><dd><p>Datacube containing MUSE PSF as a function of wavelength.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.cube_convolve.pypher_script">
<code class="sig-prename descclassname">pymusepipe.cube_convolve.</code><code class="sig-name descname">pypher_script</code><span class="sig-paren">(</span><em class="sig-param">psf_source</em>, <em class="sig-param">psf_target</em>, <em class="sig-param">pixscale_source=0.2</em>, <em class="sig-param">pixscale_target=0.2</em>, <em class="sig-param">angle_source=0.0</em>, <em class="sig-param">angle_target=0.0</em>, <em class="sig-param">reg_fact=0.0001</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#pypher_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.cube_convolve.pypher_script" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the convolution kernel to move from one PSF to a target one.
This is an adaptation of the main pypher script that it is meant to be used
from the terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>psf_source</strong> (<em>ndarray</em>) – 2D PSF of the source image.</p></li>
<li><p><strong>psf_target</strong> (<em>ndarray</em>) – target 2D PSF</p></li>
<li><p><strong>pixscale_source</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – pixel scale of the source PSF [0.2]</p></li>
<li><p><strong>pixscale_target</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – pixel scale of the target PSF [0.2]</p></li>
<li><p><strong>angle_source</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – position angle of the source PSF. [0]</p></li>
<li><p><strong>angle_target</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – position angle of the target PSF. [0]</p></li>
<li><p><strong>reg_fact</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Regularisation parameter for the Wiener filter [1.e-4]</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True it prints more info on screen [False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a 2D kernel that convolved with the source PSF</dt><dd><p>returns the target PSF</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>kernel</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.emission_lines">
<span id="pymusepipe-emission-lines-module"></span><h2>pymusepipe.emission_lines module<a class="headerlink" href="#module-pymusepipe.emission_lines" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pymusepipe.emission_lines.print_emission_lines">
<code class="sig-prename descclassname">pymusepipe.emission_lines.</code><code class="sig-name descname">print_emission_lines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/emission_lines.html#print_emission_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.emission_lines.print_emission_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Printing the names of the various emission lines</p>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.graph_pipe">
<span id="pymusepipe-graph-pipe-module"></span><h2>pymusepipe.graph_pipe module<a class="headerlink" href="#module-pymusepipe.graph_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS plotting routines</p>
<dl class="class">
<dt id="pymusepipe.graph_pipe.GraphMuse">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.graph_pipe.</code><code class="sig-name descname">GraphMuse</code><span class="sig-paren">(</span><em class="sig-param">pdf_name='drs_check.pdf', figsize=(10, 14), rect_layout=[0, 0.03, 1, 0.95], verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Graphic output to check MUSE data reduction products</p>
<dl class="method">
<dt id="pymusepipe.graph_pipe.GraphMuse.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.graph_pipe.GraphMuse.plot_page">
<code class="sig-name descname">plot_page</code><span class="sig-paren">(</span><em class="sig-param">list_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.plot_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.plot_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a set of blocks, each made of a set of spectra or
images. This is for 1 page
It first counts the number of lines needed according to the
separation for images (default is 2 per line, each image taking 2 lines)
and spectra (1 spectrum per line over 2 columns)</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.graph_pipe.GraphMuse.plot_set_images">
<code class="sig-name descname">plot_set_images</code><span class="sig-paren">(</span><em class="sig-param">set_of_images=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.plot_set_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.plot_set_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting a set of images
Skipping the ones that are ‘None’</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.graph_pipe.GraphMuse.plot_set_spectra">
<code class="sig-name descname">plot_set_spectra</code><span class="sig-paren">(</span><em class="sig-param">set_of_spectra=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.plot_set_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.plot_set_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting a set of spectra
Skipping the ones that are ‘None’</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.graph_pipe.GraphMuse.savepage">
<code class="sig-name descname">savepage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.savepage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.savepage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.graph_pipe.GraphMuse.start_page">
<code class="sig-name descname">start_page</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.start_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.start_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the page</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.graph_pipe.print_fig">
<code class="sig-prename descclassname">pymusepipe.graph_pipe.</code><code class="sig-name descname">print_fig</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#print_fig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.graph_pipe.print_fig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pymusepipe.init_musepipe">
<span id="pymusepipe-init-musepipe-module"></span><h2>pymusepipe.init_musepipe module<a class="headerlink" href="#module-pymusepipe.init_musepipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS pipeline wrapper
initialisation of folders</p>
<dl class="class">
<dt id="pymusepipe.init_musepipe.InitMuseParameters">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.init_musepipe.</code><code class="sig-name descname">InitMuseParameters</code><span class="sig-paren">(</span><em class="sig-param">folder_config='Config/'</em>, <em class="sig-param">rc_filename=None</em>, <em class="sig-param">cal_filename=None</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#InitMuseParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.init_musepipe.InitMuseParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="pymusepipe.init_musepipe.InitMuseParameters.init_default_param">
<code class="sig-name descname">init_default_param</code><span class="sig-paren">(</span><em class="sig-param">dict_param</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#InitMuseParameters.init_default_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.init_musepipe.InitMuseParameters.init_default_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the parameters as defined in the input dictionary
Hardcoded in init_musepipe.py</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.init_musepipe.InitMuseParameters.read_param_file">
<code class="sig-name descname">read_param_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">dict_param</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#InitMuseParameters.read_param_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.init_musepipe.InitMuseParameters.read_param_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reading an input parameter initialisation file</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.init_musepipe.add_suffix_tokeys">
<code class="sig-prename descclassname">pymusepipe.init_musepipe.</code><code class="sig-name descname">add_suffix_tokeys</code><span class="sig-paren">(</span><em class="sig-param">dic</em>, <em class="sig-param">suffix='_folder'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#add_suffix_tokeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.init_musepipe.add_suffix_tokeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pymusepipe.mpdaf_pipe">
<span id="pymusepipe-mpdaf-pipe-module"></span><h2>pymusepipe.mpdaf_pipe module<a class="headerlink" href="#module-pymusepipe.mpdaf_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS mpdaf-functions module</p>
<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseCube">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseCube</code><span class="sig-paren">(</span><em class="sig-param">source=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mpdaf.obj.cube.Cube</span></code></p>
<p>Wrapper around the mpdaf Cube functionalities</p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.astropy_convolve">
<code class="sig-name descname">astropy_convolve</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">fft=True</em>, <em class="sig-param">inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.astropy_convolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.astropy_convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve a DataArray with an array of the same number of dimensions
using a specified convolution function.</p>
<p>Copy of _convolve for a cube, but doing it per slice or not</p>
<p>Masked values in self.data and self.var are replaced with
zeros before the convolution is performed. However masked
pixels in the input data remain masked in the output.</p>
<p>Any variances in self.var are propagated correctly.</p>
<p>If self.var exists, the variances are propagated using the equation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">other</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>where (*) indicates convolution. This equation can be derived
by applying the usual rules of error-propagation to the
discrete convolution equation.</p>
<p>Uses <a href="#id27"><span class="problematic" id="id28">`</span></a>astropy.convolution.convolve_fft’ or ‘astropy.convolution.convolve’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<em>callable</em>) – <p>The convolution function to use, chosen from:</p>
<ul>
<li><p><a href="#id29"><span class="problematic" id="id30">`</span></a>astropy.convolution.convolve_fft’</p></li>
<li><p><a href="#id31"><span class="problematic" id="id32">`</span></a>astropy.convolution.convolve’</p></li>
</ul>
<p>In general convolve_fft() is faster than convolve() except when
other.data only contains a few pixels. However convolve_fft uses
a lot more memory than convolve(), so convolve() is sometimes the
only reasonable choice. In particular, convolve_fft allocates two
arrays whose dimensions are the sum of self.shape and other.shape,
rounded up to a power of two. These arrays can be impractically
large for some input data-sets.</p>
</p></li>
<li><p><strong>other</strong> (<em>DataArray</em><em> or </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.18)"><em>numpy.ndarray</em></a>) – <p>The array with which to convolve the contents of self.  This must
have the same number of dimensions as self, but it can have fewer
elements. When this array contains a symmetric filtering function,
the center of the function should be placed at the center of pixel,
<code class="docutils literal notranslate"><span class="pre">(other.shape</span> <span class="pre">-</span> <span class="pre">1)//2</span></code>.</p>
<p>Note that passing a DataArray object is equivalent to just
passing its DataArray.data member. If it has any variances,
these are ignored.</p>
</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If False (the default), return a new object containing the
convolved array.
If True, record the convolved array in self and return self.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>~mpdaf.obj.DataArray</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.convolve_cube_to_psf">
<code class="sig-name descname">convolve_cube_to_psf</code><span class="sig-paren">(</span><em class="sig-param">target_fwhm</em>, <em class="sig-param">target_nmoffat=None</em>, <em class="sig-param">input_function='moffat'</em>, <em class="sig-param">target_function='gaussian'</em>, <em class="sig-param">outcube_name=None</em>, <em class="sig-param">factor_fwhm=3</em>, <em class="sig-param">fft=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.convolve_cube_to_psf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.convolve_cube_to_psf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve the cube for a target function ‘gaussian’ or ‘moffat’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – target FWHM in arcsecond</p></li>
<li><p><strong>target_nmoffat</strong> – target n if Moffat function</p></li>
<li><p><strong>input_function</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘gaussian’ or ‘moffat’ [‘moffat’]</p></li>
<li><p><strong>target_function</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘gaussian’ or ‘moffat’ [‘gaussian’]</p></li>
<li><p><strong>factor_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – number of FWHM for size of Kernel</p></li>
<li><p><strong>fft</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – use FFT to convolve or not [False]</p></li>
<li><p><strong>perslice</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – doing it per slice, or not [True]
If doing it per slice, using a direct astropy fft. If
doing it with the cube, it uses much more memory but is
more efficient as the convolution is done via mpdaf directly.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Creates:</dt><dd><p>Folder and convolved cube names</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.create_reference_cube">
<code class="sig-name descname">create_reference_cube</code><span class="sig-paren">(</span><em class="sig-param">lambdamin=4700</em>, <em class="sig-param">lambdamax=9400</em>, <em class="sig-param">step=1.25</em>, <em class="sig-param">outcube_name=None</em>, <em class="sig-param">filter_for_nan=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.create_reference_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.create_reference_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a reference cube using an input one, and overiding
the lambda part, to get a new WCS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lambdamin</strong> – </p></li>
<li><p><strong>lambdamax</strong> – </p></li>
<li><p><strong>step</strong> – </p></li>
<li><p><strong>outcube_name</strong> – </p></li>
<li><p><strong>filter_for_nan</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>the name of the folder where</dt><dd><p>the output cube is, and its name</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>cube_folder, outcube_name (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.extract_onespectral_cube">
<code class="sig-name descname">extract_onespectral_cube</code><span class="sig-paren">(</span><em class="sig-param">wave1=6500.0</em>, <em class="sig-param">outcube_name=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.extract_onespectral_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.extract_onespectral_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a single pixel cube extracted from this one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wave1</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Value of the wavelength to extract. In Angstroems.</p></li>
<li><p><strong>outcube_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the output cube</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – If outcube_name is None (default), use that prefix to append
in front of the input cube name (same folder)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A new cube with only 2 lambda. To be used as a WCS reference for</em></p></li>
<li><p><em>masks.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_emissionline_image">
<code class="sig-name descname">get_emissionline_image</code><span class="sig-paren">(</span><em class="sig-param">line=None</em>, <em class="sig-param">velocity=0.0</em>, <em class="sig-param">redshift=None</em>, <em class="sig-param">lambda_window=10.0</em>, <em class="sig-param">medium='vacuum'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_emissionline_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_emissionline_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a narrow band image around Ha</p>
<p>lambda_window: in Angstroems (10 by default). Width of the window of integration
medium: vacuum or air (string, ‘vacuum’ by default)
velocity: default is 0. (km/s)
redshift: default is None. Overwrite velocity if provided.
line: name of the emission line (see emission_lines dictionary)</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_filter_image">
<code class="sig-name descname">get_filter_image</code><span class="sig-paren">(</span><em class="sig-param">filter_name=None</em>, <em class="sig-param">own_filter_file=None</em>, <em class="sig-param">filter_folder=''</em>, <em class="sig-param">dict_filters=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_filter_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_filter_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an image given by a filter. If the filter belongs to
the filter list, then use that, otherwise use the given file</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_image_from_cube">
<code class="sig-name descname">get_image_from_cube</code><span class="sig-paren">(</span><em class="sig-param">central_lambda=None</em>, <em class="sig-param">lambda_window=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_image_from_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_image_from_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Get image from integrated cube, with spectral pixel
centred at central_lambda and with a lambda_window of lambda_window</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_quadrant_spectra_from_cube">
<code class="sig-name descname">get_quadrant_spectra_from_cube</code><span class="sig-paren">(</span><em class="sig-param">pixel_window=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_quadrant_spectra_from_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_quadrant_spectra_from_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Get quadrant spectra from the Cube</p>
<p>pixel_window : pixel_window of integration</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_set_spectra">
<code class="sig-name descname">get_set_spectra</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_set_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_set_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a set of standard spectra from the Cube</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_spectrum_from_cube">
<code class="sig-name descname">get_spectrum_from_cube</code><span class="sig-paren">(</span><em class="sig-param">nx=None</em>, <em class="sig-param">ny=None</em>, <em class="sig-param">pixel_window=0</em>, <em class="sig-param">title='Spectrum'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_spectrum_from_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_spectrum_from_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a spectrum from the cube with centre defined in pixels
with nx, ny and a window of ‘pixel_window’</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.get_whiteimage_from_cube">
<code class="sig-name descname">get_whiteimage_from_cube</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_whiteimage_from_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_whiteimage_from_cube" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.mask_trail">
<code class="sig-name descname">mask_trail</code><span class="sig-paren">(</span><em class="sig-param">pq1=[0, 0], pq2=[10, 10], width=1.0, margins=0.0, reset=False, save=True, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.mask_trail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.mask_trail" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a cube mask from 2 points measured from a trail on an image</p>
<dl class="simple">
<dt>pq1: array or tuple (float)</dt><dd><p>p and q coordinates of point 1 along the trail</p>
</dd>
<dt>pq2: array or tuple (float)</dt><dd><p>p and q coordinates of point 2 along the trail</p>
</dd>
<dt>width: float</dt><dd><p>Value (in pixel) of the full slit width to exclude</p>
</dd>
<dt>margins: float</dt><dd><p>Value (in pixel) to extend the slit beyond the 2 extrema
If 0, this means limiting it to the extrema themselves.
Default is None, which mean infinitely long slit</p>
</dd>
</dl>
<p>reset (bool): if True, reset the mask before masking the slit
save (bool): if True, save the masked cube</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCube.save_mask">
<code class="sig-name descname">save_mask</code><span class="sig-paren">(</span><em class="sig-param">mask_name='dummy_mask.fits'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.save_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.save_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the mask into a 0-1 image</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseCubeMosaic">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseCubeMosaic</code><span class="sig-paren">(</span><em class="sig-param">ref_wcs</em>, <em class="sig-param">folder_ref_wcs=''</em>, <em class="sig-param">folder_cubes=''</em>, <em class="sig-param">prefix_cubes='DATACUBE_FINAL_WCS'</em>, <em class="sig-param">list_suffix=[]</em>, <em class="sig-param">use_fixed_cubes=True</em>, <em class="sig-param">prefix_fixed_cubes='tmask'</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">dict_exposures=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mpdaf.obj.cubelist.CubeMosaic</span></code></p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.build_list">
<code class="sig-name descname">build_list</code><span class="sig-paren">(</span><em class="sig-param">folder_cubes=None</em>, <em class="sig-param">prefix_cubes=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic.build_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.build_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Building the list of cubes to process</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folder_cubes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – folder for the cubes</p></li>
<li><p><strong>prefix_cubes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – prefix to be used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.madcombine">
<code class="sig-name descname">madcombine</code><span class="sig-paren">(</span><em class="sig-param">folder_cubes=None</em>, <em class="sig-param">outcube_name='dummy.fits'</em>, <em class="sig-param">fakemode=False</em>, <em class="sig-param">mad=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic.madcombine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.madcombine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine the CubeMosaic and write it out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folder_cubes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the folder for the cube [None]</p></li>
<li><p><strong>outcube_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the outcube</p></li>
<li><p><strong>mad</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – using mad or not [True]</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Creates:</dt><dd><p>A new cube, combination of all input cubes listes in CubeMosaic</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseFilter">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseFilter</code><span class="sig-paren">(</span><em class="sig-param">filter_name='Cousins_R'</em>, <em class="sig-param">filter_fits_file='filter_list.fits'</em>, <em class="sig-param">filter_ascii_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseFilter.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseFilter.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseFilter.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reading the data in the file</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseImage">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseImage</code><span class="sig-paren">(</span><em class="sig-param">source=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mpdaf.obj.image.Image</span></code></p>
<p>Wrapper around the mpdaf Image functionalities</p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseImage.get_fwhm_startend">
<code class="sig-name descname">get_fwhm_startend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.get_fwhm_startend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.get_fwhm_startend" title="Permalink to this definition">¶</a></dt>
<dd><p>Get range of FWHM</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseImage.mask_trail">
<code class="sig-name descname">mask_trail</code><span class="sig-paren">(</span><em class="sig-param">pq1=[0, 0], pq2=[10, 10], width=0.0, reset=False, extent=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.mask_trail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.mask_trail" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an image mask from 2 points measured from a trail</p>
<dl class="simple">
<dt>pq1: array or tuple (float)</dt><dd><p>p and q coordinates of point 1 along the trail</p>
</dd>
<dt>pq2: array or tuple (float)</dt><dd><p>p and q coordinates of point 2 along the trail</p>
</dd>
<dt>width: float</dt><dd><p>Value (in pixel) of the full slit width to exclude</p>
</dd>
<dt>extent: float</dt><dd><p>Value (in pixel) to extend the slit beyond the 2 extrema
If 0, this means limiting it to the extrema themselves.
Default is None, which mean infinitely long slit</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseImage.reset_mask">
<code class="sig-name descname">reset_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.reset_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.reset_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Resetting the Image mask</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseImage.save_mask">
<code class="sig-name descname">save_mask</code><span class="sig-paren">(</span><em class="sig-param">mask_name='dummy_mask.fits'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.save_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.save_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the mask into a 0-1 image</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseSetImages">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseSetImages</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetImages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>Set of images</p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseSetImages.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetImages.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetImages.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseSetSpectra">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseSetSpectra</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetSpectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetSpectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>Set of spectra</p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseSetSpectra.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetSpectra.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetSpectra.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseSkyContinuum">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseSkyContinuum</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.get_normfactor">
<code class="sig-name descname">get_normfactor</code><span class="sig-paren">(</span><em class="sig-param">background</em>, <em class="sig-param">filter_name='Cousins_R'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.get_normfactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.get_normfactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the normalisation factor given a background value
Takes the background value and the sky continuuum spectrum
and convert this to the scaling Ks needed for this sky continuum
The principle relies on having the background measured as:
MUSE_calib = ((MUSE - Sky_cont) + Background) * Norm</p>
<p>as measured from the alignment procedure.</p>
<p>Since we want:
MUSE_calib = ((MUSE - Ks * Sky_cont) + 0) * Norm</p>
<p>This means that: Ks * Sky_cont = Sky_cont - Background
==&gt; Ks = 1 - Background / Sky_cont</p>
<p>So we integrate the Sky_cont to get the corresponding S value
and then provide Ks as 1-B/S</p>
<dl class="simple">
<dt>background: float</dt><dd><p>Value of the background to consider</p>
</dd>
<dt>filter_name: str</dt><dd><p>Name of the filter to consider</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.integrate">
<code class="sig-name descname">integrate</code><span class="sig-paren">(</span><em class="sig-param">muse_filter</em>, <em class="sig-param">AO_mask=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.integrate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate a sky continuum spectrum using a certain filter file.
If the file is a fits file, use it as the MUSE filter list.
Otherwise use it as an ascii file</p>
<p>muse_filter: MuseFilter</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read sky continuum spectrum from MUSE data reduction</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.save_normalised">
<code class="sig-name descname">save_normalised</code><span class="sig-paren">(</span><em class="sig-param">norm_factor=1.0</em>, <em class="sig-param">prefix='norm'</em>, <em class="sig-param">overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.save_normalised"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.save_normalised" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalises a sky continuum spectrum and save it
within a new fits file</p>
<dl class="simple">
<dt>norm_factor: float</dt><dd><p>Scale factor to multiply the input continuum</p>
</dd>
<dt>prefix: str</dt><dd><p>Prefix for the new continuum fits name. Default
is ‘norm’, so that the new file is ‘norm_oldname.fits’</p>
</dd>
<dt>overwrite: bool</dt><dd><p>If True, existing file will be overwritten.
Default is False.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.MuseSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">MuseSpectrum</code><span class="sig-paren">(</span><em class="sig-param">source=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSpectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mpdaf.obj.spectrum.Spectrum</span></code></p>
<p>Wrapper around the mpdaf Spectrum functionalities</p>
</dd></dl>

<dl class="class">
<dt id="pymusepipe.mpdaf_pipe.PixTableToMask">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">PixTableToMask</code><span class="sig-paren">(</span><em class="sig-param">pixtable_name</em>, <em class="sig-param">image_name</em>, <em class="sig-param">suffix_out='tmask'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class is meant to just be a simple tool to
mask out some regions from the PixTable using Image masks</p>
<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.PixTableToMask.create_mask">
<code class="sig-name descname">create_mask</code><span class="sig-paren">(</span><em class="sig-param">pq1=[0, 0], pq2=[10, 10], width=0.0, reset=False, mask_name='dummy_mask.fits', extent=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.create_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.create_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the mask and save it in one go</p>
<dl class="simple">
<dt>pq1: array or tuple (float)</dt><dd><p>p and q coordinates of point 1 along the trail</p>
</dd>
<dt>pq2: array or tuple (float)</dt><dd><p>p and q coordinates of point 2 along the trail</p>
</dd>
<dt>width: float</dt><dd><p>Value (in pixel) of the full slit width to exclude</p>
</dd>
<dt>reset: bool</dt><dd><p>By default False, so the mask goes on top of the existing one
If True, will reset the mask before building it.</p>
</dd>
<dt>extent: float</dt><dd><p>Value (in pixel) to extend the slit beyond the 2 extrema
If 0, this means limiting it to the extrema themselves.
Default is None, which mean infinitely long slit</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.PixTableToMask.imshow">
<code class="sig-name descname">imshow</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.imshow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.imshow" title="Permalink to this definition">¶</a></dt>
<dd><p>Just showing the image</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.PixTableToMask.mask_pixtable">
<code class="sig-name descname">mask_pixtable</code><span class="sig-paren">(</span><em class="sig-param">mask_name=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.mask_pixtable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.mask_pixtable" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the Image Mask and create a new Pixtable</p>
<dl class="simple">
<dt>mask_name: str</dt><dd><p>Name of the mask to be used (FITS file)</p>
</dd>
<dt>use_folder: bool</dt><dd><p>If True, use the same folder as the Pixtable
Otherwise just write where you stand</p>
</dd>
<dt>suffix_out: str</dt><dd><p>Suffix for the name of the output Pixtable
If provided, will overwrite the one in self.suffix_out</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.mpdaf_pipe.PixTableToMask.save_mask">
<code class="sig-name descname">save_mask</code><span class="sig-paren">(</span><em class="sig-param">mask_name='dummy_mask.fits'</em>, <em class="sig-param">use_folder=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.save_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.save_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving the mask from the Image into a fits file</p>
<dl class="simple">
<dt>mask_name: str</dt><dd><p>Name of the fits file for the mask</p>
</dd>
<dt>use_folder: bool</dt><dd><p>If True (default) will look for the mask in the image_folder.
If False, will just look for it where the command is run.</p>
</dd>
</dl>
<p>A fits file with the mask as 0 and 1</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.mpdaf_pipe.get_sky_spectrum">
<code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">get_sky_spectrum</code><span class="sig-paren">(</span><em class="sig-param">specname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#get_sky_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.get_sky_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Read sky spectrum from MUSE data reduction</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.mpdaf_pipe.integrate_spectrum">
<code class="sig-prename descclassname">pymusepipe.mpdaf_pipe.</code><code class="sig-name descname">integrate_spectrum</code><span class="sig-paren">(</span><em class="sig-param">spectrum</em>, <em class="sig-param">wave_filter</em>, <em class="sig-param">throughput_filter</em>, <em class="sig-param">AO_mask=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#integrate_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.integrate_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate a spectrum using a certain Muse Filter file.</p>
<dl class="simple">
<dt>spectrum: Spectrum</dt><dd><p>Input spectrum given as an mpdaf Spectrum</p>
</dd>
<dt>wave_filter: float array</dt><dd><p>Array of wavelength for the filter</p>
</dd>
<dt>throughput_filter: float array</dt><dd><p>Array of throughput (between 0 and 1) for the filter. Should be the
same dimension (1D, N floats) as wave_filter</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.musepipe">
<span id="pymusepipe-musepipe-module"></span><h2>pymusepipe.musepipe module<a class="headerlink" href="#module-pymusepipe.musepipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS core module.
This defines the main class (MusePipe) which can be used throughout this package.</p>
<p>This module is a complete rewrite of a pipeline wrapper for the MUSE dataset.
All classes and objects were refactored.</p>
<p>However, the starting point of this package has been initially
inspired by several pieces of python codes developed by various individiduals,
including Kyriakos and Martina from the GTO MUSE MAD team and further
rewritten by Mark van den Brok.
Hence: a big Thanks to all three for this!</p>
<p>Note that several python packages exist which would provide similar
(or better) functionalities.</p>
<p>Eric Emsellem adapted a version from early 2017, provided by Mark and adapted
it for the needs of the PHANGS project (PI Schinnerer). It was further
refactored starting from scratch but keeping a few initial ideas.</p>
<dl class="class">
<dt id="pymusepipe.musepipe.MusePipe">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.musepipe.</code><code class="sig-name descname">MusePipe</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">pointing=0</em>, <em class="sig-param">folder_config='Config/'</em>, <em class="sig-param">rc_filename=None</em>, <em class="sig-param">cal_filename=None</em>, <em class="sig-param">log_filename='MusePipe.log'</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">musemode='WFM-NOAO-N'</em>, <em class="sig-param">checkmode=True</em>, <em class="sig-param">strong_checkmode=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.prep_recipes_pipe.PipePrep" title="pymusepipe.prep_recipes_pipe.PipePrep"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.prep_recipes_pipe.PipePrep</span></code></a>, <a class="reference internal" href="#pymusepipe.recipes_pipe.PipeRecipes" title="pymusepipe.recipes_pipe.PipeRecipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.recipes_pipe.PipeRecipes</span></code></a></p>
<p>Main Class to define and run the MUSE pipeline, given a certain galaxy
name. This is the main class used throughout the running of the pipeline
which contains functions and attributes all associated with the reduction
of MUSE exposures.</p>
<p>It inherits from the PipePrep class, which prepares the recipes for the
running of the MUSE pipeline, and Piperecipes which has the recipes
described.</p>
<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.goto_folder">
<code class="sig-name descname">goto_folder</code><span class="sig-paren">(</span><em class="sig-param">newpath</em>, <em class="sig-param">addtolog=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.goto_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.goto_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Changing directory and keeping memory of the old working one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>addtolog</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em> [</em><em>False</em><em>]</em>) – Adding the folder move to the log file</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.goto_origfolder">
<code class="sig-name descname">goto_origfolder</code><span class="sig-paren">(</span><em class="sig-param">addtolog=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.goto_origfolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.goto_origfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Go back to original folder</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.goto_prevfolder">
<code class="sig-name descname">goto_prevfolder</code><span class="sig-paren">(</span><em class="sig-param">addtolog=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.goto_prevfolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.goto_prevfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Go back to previous folder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>addtolog</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em> [</em><em>False</em><em>]</em>) – Adding the folder move to the log file</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.init_raw_table">
<code class="sig-name descname">init_raw_table</code><span class="sig-paren">(</span><em class="sig-param">reset=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.init_raw_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.init_raw_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a fits table with all the information from
the Raw files. Also create an astropy table with the same info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>reset</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em> [</em><em>False</em><em>]</em>) – Resetting the raw astropy table if True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.read_all_astro_tables">
<code class="sig-name descname">read_all_astro_tables</code><span class="sig-paren">(</span><em class="sig-param">reset=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.read_all_astro_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.read_all_astro_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise all existing Astropy Tables</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.read_astropy_table">
<code class="sig-name descname">read_astropy_table</code><span class="sig-paren">(</span><em class="sig-param">expotype=None</em>, <em class="sig-param">stage='master'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.read_astropy_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.read_astropy_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an existing Masterfile data table to start the pipeline</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.retrieve_geoastro_name">
<code class="sig-name descname">retrieve_geoastro_name</code><span class="sig-paren">(</span><em class="sig-param">date_str</em>, <em class="sig-param">filetype='geo'</em>, <em class="sig-param">mode='wfm'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.retrieve_geoastro_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.retrieve_geoastro_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieving the astrometry or geometry fits file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date_str</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Date as a string (DD/MM/YYYY)</p></li>
<li><p><strong>filetype</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘geo’ or ‘astro’, type of the needed file</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘wfm’ or ‘nfm’ - MUSE mode</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.save_expo_table">
<code class="sig-name descname">save_expo_table</code><span class="sig-paren">(</span><em class="sig-param">expotype</em>, <em class="sig-param">tpl_gtable</em>, <em class="sig-param">stage='master'</em>, <em class="sig-param">fits_tablename=None</em>, <em class="sig-param">aggregate=True</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">overwrite=None</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.save_expo_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.save_expo_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the Expo (Master or not) Table corresponding to the expotype</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.set_fullpath_names">
<code class="sig-name descname">set_fullpath_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.set_fullpath_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.set_fullpath_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Create full path names to be used</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.musepipe.MusePipe.sort_raw_tables">
<code class="sig-name descname">sort_raw_tables</code><span class="sig-paren">(</span><em class="sig-param">checkmode=None</em>, <em class="sig-param">strong_checkmode=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.sort_raw_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.sort_raw_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide lists of exposures with types defined in the dictionary</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.musepipe.PipeObject">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.musepipe.</code><code class="sig-name descname">PipeObject</code><span class="sig-paren">(</span><em class="sig-param">info=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#PipeObject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.PipeObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A very simple class used to store astropy tables.</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.musepipe.lower_rep">
<code class="sig-prename descclassname">pymusepipe.musepipe.</code><code class="sig-name descname">lower_rep</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#lower_rep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.musepipe.lower_rep" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower the text and return it after removing all underscores</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – text to treat</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated text (with removed underscores and lower-cased)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.prep_recipes_pipe">
<span id="pymusepipe-prep-recipes-pipe-module"></span><h2>pymusepipe.prep_recipes_pipe module<a class="headerlink" href="#module-pymusepipe.prep_recipes_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS preparation recipe module</p>
<dl class="class">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.prep_recipes_pipe.</code><code class="sig-name descname">PipePrep</code><span class="sig-paren">(</span><em class="sig-param">first_recipe=1</em>, <em class="sig-param">last_recipe=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.create_sof.SofPipe" title="pymusepipe.create_sof.SofPipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.create_sof.SofPipe</span></code></a></p>
<p>PipePrep class prepare the SOF files and launch the recipes</p>
<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.get_align_group">
<code class="sig-name descname">get_align_group</code><span class="sig-paren">(</span><em class="sig-param">name_ima_reference=None</em>, <em class="sig-param">list_expo=[]</em>, <em class="sig-param">line=None</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">bygroup=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.get_align_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.get_align_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the needed information for a set of exposures to be aligned</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.print_recipes">
<em class="property">static </em><code class="sig-name descname">print_recipes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.print_recipes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.print_recipes" title="Permalink to this definition">¶</a></dt>
<dd><p>Printing the list of recipes</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_align_bygroup">
<code class="sig-name descname">run_align_bygroup</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='exp_align_bygroup'</em>, <em class="sig-param">expotype='OBJECT'</em>, <em class="sig-param">list_expo=[]</em>, <em class="sig-param">stage='processed'</em>, <em class="sig-param">line=None</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_align_bygroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_align_bygroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligning the individual exposures from a dataset
using the emission line region
With the muse exp_align routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_align_bypointing">
<code class="sig-name descname">run_align_bypointing</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='exp_align_bypointing'</em>, <em class="sig-param">expotype='OBJECT'</em>, <em class="sig-param">list_expo=[]</em>, <em class="sig-param">stage='processed'</em>, <em class="sig-param">line=None</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_align_bypointing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_align_bypointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligning the individual exposures from a dataset
using the emission line region
With the muse exp_align routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_autocal_sky">
<code class="sig-name descname">run_autocal_sky</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='scipost'</em>, <em class="sig-param">expotype='SKY'</em>, <em class="sig-param">AC_suffix='_AC'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">**extra_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_autocal_sky"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_autocal_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch the scipost command to get individual exposures in a narrow
band filter</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_bias">
<code class="sig-name descname">run_bias</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='bias'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_bias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the Bias files and creating a Master Bias
Will run the esorex muse_bias command on all Biases</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_check_align">
<code class="sig-name descname">run_check_align</code><span class="sig-paren">(</span><em class="sig-param">offset_table_name</em>, <em class="sig-param">sof_filename='scipost'</em>, <em class="sig-param">expotype='OBJECT'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">line=None</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">folder_offset_table=None</em>, <em class="sig-param">**extra_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_check_align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_check_align" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch the scipost command to get individual exposures in a narrow
band filter to check if the alignments are ok (after rotation
and using a given offset_table)</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_combine_pointing">
<code class="sig-name descname">run_combine_pointing</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='exp_combine', expotype='OBJECT', list_expo=[], stage='processed', tpl='ALL', lambdaminmax=[4000.0, 10000.0], suffix='', **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_combine_pointing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_combine_pointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a cube from all frames in the pointing
list_expo or tpl specific arguments can still reduce the selection if needed</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_fine_alignment">
<code class="sig-name descname">run_fine_alignment</code><span class="sig-paren">(</span><em class="sig-param">name_ima_reference=None</em>, <em class="sig-param">nexpo=1</em>, <em class="sig-param">list_expo=[]</em>, <em class="sig-param">line=None</em>, <em class="sig-param">bygroup=False</em>, <em class="sig-param">reset=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_fine_alignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_fine_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the alignment on this pointing using or not a reference image</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_flat">
<code class="sig-name descname">run_flat</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='flat'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_flat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_flat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the Flat files and creating a Master Flat
Will run the esorex muse_flat command on all Flats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_lsf">
<code class="sig-name descname">run_lsf</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='lsf'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_lsf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_lsf" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the LSF files and creating the LSF PROFILE
Will run the esorex muse_lsf command on all Flats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_phangs_recipes">
<code class="sig-name descname">run_phangs_recipes</code><span class="sig-paren">(</span><em class="sig-param">fraction=0.8</em>, <em class="sig-param">illum=True</em>, <em class="sig-param">skymethod='model'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_phangs_recipes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_phangs_recipes" title="Permalink to this definition">¶</a></dt>
<dd><p>Running all PHANGS recipes in one shot
Using the basic set up for the general list of recipes</p>
<dl class="simple">
<dt>fraction: float</dt><dd><p>Fraction of sky to consider in sky frames for the sky spectrum
Default is 0.8.</p>
</dd>
<dt>illum: bool</dt><dd><p>Default is True (use illumination during twilight calibration)</p>
</dd>
<dt>skymethod: str</dt><dd><p>Default is “model”.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_prep_align">
<code class="sig-name descname">run_prep_align</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='scipost'</em>, <em class="sig-param">expotype='OBJECT'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">line=None</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">**extra_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_prep_align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_prep_align" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch the scipost command to get individual exposures in a narrow
band filter</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_recipes">
<code class="sig-name descname">run_recipes</code><span class="sig-paren">(</span><em class="sig-param">fraction=0.8</em>, <em class="sig-param">skymethod='model'</em>, <em class="sig-param">illum=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_recipes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_recipes" title="Permalink to this definition">¶</a></dt>
<dd><p>Running all recipes in one shot</p>
<dl class="simple">
<dt>fraction: float</dt><dd><p>Fraction of sky to consider in sky frames for the sky spectrum
Default is 0.8.</p>
</dd>
<dt>illum: bool</dt><dd><p>Default is True (use illumination during twilight calibration)</p>
</dd>
<dt>skymethod: str</dt><dd><p>Default is “model”.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic">
<code class="sig-name descname">run_scibasic</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='scibasic'</em>, <em class="sig-param">expotype='OBJECT'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">illum=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scibasic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the files of a certain category and creating the PIXTABLES
Will run the esorex muse_scibasic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic_all">
<code class="sig-name descname">run_scibasic_all</code><span class="sig-paren">(</span><em class="sig-param">list_object=['OBJECT', 'SKY', 'STD'], tpl='ALL', illum=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scibasic_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Running scibasic for all objects in list_object
Making different sof for each category</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_scipost">
<code class="sig-name descname">run_scipost</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='scipost', expotype='OBJECT', tpl='ALL', stage='processed', list_expo=[], lambdaminmax=[4000.0, 10000.0], suffix='', **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scipost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scipost" title="Permalink to this definition">¶</a></dt>
<dd><p>Scipost treatment of the objects
Will run the esorex muse_scipost routine</p>
<dl class="simple">
<dt>sof_filename: string (without the file extension)</dt><dd><p>Name of the SOF file which will contain the Bias frames</p>
</dd>
</dl>
<p>tpl: ALL by default or a special tpl time
list_expo: list of integers</p>
<blockquote>
<div><p>Exposure numbers. By default, an empty list which means that all
exposures will be used.</p>
</div></blockquote>
<dl class="simple">
<dt>lambdaminmax: tuple of 2 floats</dt><dd><p>Minimum and Maximum wavelength to pass to the muse_scipost recipe</p>
</dd>
<dt>suffix: str</dt><dd><p>Suffix to add to the input pixtables.</p>
</dd>
<dt>norm_skycontinuum: bool</dt><dd><p>Normalise the skycontinuum or not. Default is False.
If normalisation is to be done, it will use the offset_table
and the tabulated background value to renormalise the sky
continuum.</p>
</dd>
<dt>skymethod: str</dt><dd><p>Type of skymethod. See MUSE manual.</p>
</dd>
<dt>offset_list: bool</dt><dd><p>If True, using an OFFSET list. Default is True.</p>
</dd>
<dt>offset_table_name: str</dt><dd><p>Name of the offset table table. If not provided, will use the
default name produced during the pipeline run.</p>
</dd>
<dt>filter_for_alignment: str</dt><dd><p>Name of the filter used for alignment.
Default is self.filter_for_alignment</p>
</dd>
<dt>filter_list: str</dt><dd><p>List of filters to be considered for reconstructed images.
By Default will use the list in self.filter_list.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_perexpo">
<code class="sig-name descname">run_scipost_perexpo</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='scipost'</em>, <em class="sig-param">expotype='OBJECT'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">stage='processed'</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">offset_list=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scipost_perexpo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_perexpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch the scipost command exposure per exposure</p>
<p>See run_scipost parameters</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_sky">
<code class="sig-name descname">run_scipost_sky</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scipost_sky"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Run scipost for the SKY with no offset list and no skymethod</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_sky">
<code class="sig-name descname">run_sky</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='sky'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">fraction=0.8</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_sky"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the SKY after they have been scibasic reduced
Will run the esorex muse_create_sky routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_standard">
<code class="sig-name descname">run_standard</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='standard'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_standard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_standard" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the STD files after they have been obtained
Running the muse_standard routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_twilight">
<code class="sig-name descname">run_twilight</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='twilight'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">update=None</em>, <em class="sig-param">illum=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_twilight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_twilight" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the  files and creating the TWILIGHT CUBE.
Will run the esorex muse_twilight command on all TWILIGHT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.run_wave">
<code class="sig-name descname">run_wave</code><span class="sig-paren">(</span><em class="sig-param">sof_filename='wave'</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">update=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_wave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_wave" title="Permalink to this definition">¶</a></dt>
<dd><p>Reducing the WAVE-CAL files and creating the Master Wave
Will run the esorex muse_wave command on all Flats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.save_fine_alignment">
<code class="sig-name descname">save_fine_alignment</code><span class="sig-paren">(</span><em class="sig-param">name_offset_table=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.save_fine_alignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.save_fine_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the fine pointing alignment</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.prep_recipes_pipe.PipePrep.select_tpl_files">
<code class="sig-name descname">select_tpl_files</code><span class="sig-paren">(</span><em class="sig-param">expotype=None</em>, <em class="sig-param">tpl='ALL'</em>, <em class="sig-param">stage='raw'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.select_tpl_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.select_tpl_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Selecting a subset of files from a certain type</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.prep_recipes_pipe.add_listpath">
<code class="sig-prename descclassname">pymusepipe.prep_recipes_pipe.</code><code class="sig-name descname">add_listpath</code><span class="sig-paren">(</span><em class="sig-param">suffix</em>, <em class="sig-param">paths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#add_listpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.add_listpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a suffix to a list of path
and normalise them</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.prep_recipes_pipe.norm_listpath">
<code class="sig-prename descclassname">pymusepipe.prep_recipes_pipe.</code><code class="sig-name descname">norm_listpath</code><span class="sig-paren">(</span><em class="sig-param">paths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#norm_listpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.norm_listpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalise the path for a list of paths</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.prep_recipes_pipe.print_my_function_name">
<code class="sig-prename descclassname">pymusepipe.prep_recipes_pipe.</code><code class="sig-name descname">print_my_function_name</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#print_my_function_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.print_my_function_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to provide a print of the name of the function
Can be used as a decorator</p>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.recipes_pipe">
<span id="pymusepipe-recipes-pipe-module"></span><h2>pymusepipe.recipes_pipe module<a class="headerlink" href="#module-pymusepipe.recipes_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS recipe module</p>
<dl class="class">
<dt id="pymusepipe.recipes_pipe.PipeRecipes">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.recipes_pipe.</code><code class="sig-name descname">PipeRecipes</code><span class="sig-paren">(</span><em class="sig-param">nifu=-1</em>, <em class="sig-param">first_cpu=0</em>, <em class="sig-param">ncpu=24</em>, <em class="sig-param">list_cpu=[]</em>, <em class="sig-param">likwid='likwid-pin -c N:'</em>, <em class="sig-param">fakemode=False</em>, <em class="sig-param">domerge=True</em>, <em class="sig-param">nocache=False</em>, <em class="sig-param">nochecksum=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>PipeRecipes class containing all the esorex recipes for MUSE data reduction</p>
<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.checksum">
<em class="property">property </em><code class="sig-name descname">checksum</code><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.checksum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.esorex">
<em class="property">property </em><code class="sig-name descname">esorex</code><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.esorex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.joinprod">
<code class="sig-name descname">joinprod</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.joinprod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.joinprod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.merge">
<em class="property">property </em><code class="sig-name descname">merge</code><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_align">
<code class="sig-name descname">recipe_align</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_products</em>, <em class="sig-param">namein_products</em>, <em class="sig-param">nameout_products</em>, <em class="sig-param">tpl</em>, <em class="sig-param">group</em>, <em class="sig-param">threshold=10.0</em>, <em class="sig-param">srcmin=3</em>, <em class="sig-param">srcmax=80</em>, <em class="sig-param">fwhm=5.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_align" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the muse_exp_align recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_bias">
<code class="sig-name descname">recipe_bias</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_bias</em>, <em class="sig-param">name_bias</em>, <em class="sig-param">tpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_bias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_bias recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_combine">
<code class="sig-name descname">recipe_combine</code><span class="sig-paren">(</span><em class="sig-param">sof, dir_products, name_products, tpl, expotype, suffix_products=[''], suffix_prefinalnames=[''], save='cube', pixfrac=0.6, suffix='', format_out='Cube', filter_list='white', lambdamin=4000.0, lambdamax=10000.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the muse_exp_combine recipe for one single pointing</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_combine_pointings">
<code class="sig-name descname">recipe_combine_pointings</code><span class="sig-paren">(</span><em class="sig-param">sof, dir_products, name_products, suffix_products=[''], suffix_prefinalnames=[''], prefix_products=[''], save='cube', pixfrac=0.6, suffix='', format_out='Cube', filter_list='white', lambdamin=4000.0, lambdamax=10000.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_combine_pointings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_combine_pointings" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the muse_exp_combine recipe for pointings</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_flat">
<code class="sig-name descname">recipe_flat</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_flat</em>, <em class="sig-param">name_flat</em>, <em class="sig-param">dir_trace</em>, <em class="sig-param">name_trace</em>, <em class="sig-param">tpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_flat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_flat" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_flat recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_lsf">
<code class="sig-name descname">recipe_lsf</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_lsf</em>, <em class="sig-param">name_lsf</em>, <em class="sig-param">tpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_lsf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_lsf" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_lsf recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_scibasic">
<code class="sig-name descname">recipe_scibasic</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">tpl</em>, <em class="sig-param">expotype</em>, <em class="sig-param">dir_products=None</em>, <em class="sig-param">name_products=[]</em>, <em class="sig-param">suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_scibasic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_scibasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_scibasic recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_scipost">
<code class="sig-name descname">recipe_scipost</code><span class="sig-paren">(</span><em class="sig-param">sof, tpl, expotype, dir_products='', name_products=[''], suffix_products=[''], suffix_prefinalnames=[''], suffix_postfinalnames=[''], list_expo=[], save='cube,skymodel', filter_list='white', skymethod='model', pixfrac=0.8, darcheck='none', skymodel_frac=0.05, astrometry='TRUE', lambdamin=4000.0, lambdamax=10000.0, suffix='', autocalib='none', rvcorr='bary', **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_scipost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_scipost" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_scipost recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_sky">
<code class="sig-name descname">recipe_sky</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_sky</em>, <em class="sig-param">name_sky</em>, <em class="sig-param">tpl</em>, <em class="sig-param">iexpo=1</em>, <em class="sig-param">fraction=0.8</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_sky"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_stc recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_std">
<code class="sig-name descname">recipe_std</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_std</em>, <em class="sig-param">name_std</em>, <em class="sig-param">tpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_std"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_stc recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_twilight">
<code class="sig-name descname">recipe_twilight</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_twilight</em>, <em class="sig-param">name_twilight</em>, <em class="sig-param">tpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_twilight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_twilight" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_twilight recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.recipe_wave">
<code class="sig-name descname">recipe_wave</code><span class="sig-paren">(</span><em class="sig-param">sof</em>, <em class="sig-param">dir_wave</em>, <em class="sig-param">name_wave</em>, <em class="sig-param">tpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_wave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_wave" title="Permalink to this definition">¶</a></dt>
<dd><p>Running the esorex muse_wavecal recipe</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.run_oscommand">
<code class="sig-name descname">run_oscommand</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">log=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.run_oscommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.run_oscommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Running an os.system shell command
Fake mode will just spit out the command but not actually do it.</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.write_errlogfile">
<code class="sig-name descname">write_errlogfile</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.write_errlogfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.write_errlogfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writing in log file</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.write_logfile">
<code class="sig-name descname">write_logfile</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">addext=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.write_logfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.write_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writing in log file</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.recipes_pipe.PipeRecipes.write_outlogfile">
<code class="sig-name descname">write_outlogfile</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.write_outlogfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.write_outlogfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writing in log file</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pymusepipe.target_sample">
<span id="pymusepipe-target-sample-module"></span><h2>pymusepipe.target_sample module<a class="headerlink" href="#module-pymusepipe.target_sample" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS target sample module</p>
<dl class="class">
<dt id="pymusepipe.target_sample.MusePipeSample">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.target_sample.</code><code class="sig-name descname">MusePipeSample</code><span class="sig-paren">(</span><em class="sig-param">TargetDic</em>, <em class="sig-param">rc_filename=None</em>, <em class="sig-param">cal_filename=None</em>, <em class="sig-param">folder_config=''</em>, <em class="sig-param">first_recipe=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.combine_target">
<code class="sig-name descname">combine_target</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.combine_target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.combine_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the combine recipe. Shortcut for combine[targetname].run_combine()</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.combine_target_per_pointing">
<code class="sig-name descname">combine_target_per_pointing</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.combine_target_per_pointing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.combine_target_per_pointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the combine recipe. Shortcut for combine[targetname].run_combine()</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.create_reference_wcs">
<code class="sig-name descname">create_reference_wcs</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">pointings_wcs=True</em>, <em class="sig-param">mosaic_wcs=True</em>, <em class="sig-param">reference_cube=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.create_reference_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.create_reference_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the combine for individual exposures first building up
a mask.</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.finalise_reduction">
<code class="sig-name descname">finalise_reduction</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">rot_pixtab=False</em>, <em class="sig-param">create_wcs=True</em>, <em class="sig-param">create_expocubes=True</em>, <em class="sig-param">offset_table_name=None</em>, <em class="sig-param">folder_offset_table=None</em>, <em class="sig-param">dict_exposures=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.finalise_reduction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.finalise_reduction" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalise the reduction steps by using the offset table, rotating the
pixeltables, then reconstructing the PIXTABLE_REDUCED, produce reference
WCS for each pointing, and then run the reconstruction of the final
individual cubes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targetname</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – </p></li>
<li><p><strong>rot_pixtab</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – </p></li>
<li><p><strong>create_wcs</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – </p></li>
<li><p><strong>create_expocubes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – </p></li>
<li><p><strong>offset_table_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – </p></li>
<li><p><strong>folder_offset_table</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.init_combine">
<code class="sig-name descname">init_combine</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">folder_offset_table=None</em>, <em class="sig-param">offset_table_name=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.init_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.init_combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare the combination of targets</p>
<dl class="simple">
<dt>targetname: str [None]</dt><dd><p>Name of target</p>
</dd>
<dt>list_pointings: list [or None=default= all pointings]</dt><dd><p>List of pointings (e.g., [1,2,3])</p>
</dd>
<dt>offset_table_name: str</dt><dd><p>Name of Offset table</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.init_mosaic">
<code class="sig-name descname">init_mosaic</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.init_mosaic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.init_mosaic" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare the combination of targets</p>
<dl class="simple">
<dt>targetname: str [None]</dt><dd><p>Name of target</p>
</dd>
<dt>list_pointings: list [or None=default meaning all pointings]</dt><dd><p>List of pointings (e.g., [1,2,3])</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.mosaic">
<code class="sig-name descname">mosaic</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.mosaic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.mosaic" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targetname</strong> – </p></li>
<li><p><strong>list_pointings</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.reduce_all_targets">
<code class="sig-name descname">reduce_all_targets</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_all_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_all_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce all targets already initialised</p>
<dl class="simple">
<dt>first_recipe: int or str</dt><dd><p>One of the recipe to start with</p>
</dd>
<dt>last_recipe: int or str</dt><dd><p>One of the recipe to end with</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.reduce_target">
<code class="sig-name descname">reduce_target</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce one target for a list of pointings</p>
<dl class="simple">
<dt>targetname: str</dt><dd><p>Name of the target</p>
</dd>
<dt>list_pointings: list</dt><dd><p>Pointing numbers. Default is None (meaning all pointings
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
<p>first_recipe: str or int [1]
last_recipe: str or int [max of all recipes]</p>
<blockquote>
<div><p>Name or number of the first and last recipes to process</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.reduce_target_postalign">
<code class="sig-name descname">reduce_target_postalign</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_target_postalign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_target_postalign" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce target for all steps after pre-alignment</p>
<dl class="simple">
<dt>targetname: str</dt><dd><p>Name of the target</p>
</dd>
<dt>list_pointings: list</dt><dd><p>Pointing numbers. Default is None (meaning all pointings
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.reduce_target_prealign">
<code class="sig-name descname">reduce_target_prealign</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_target_prealign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_target_prealign" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce target for all steps before pre-alignment (included)</p>
<dl class="simple">
<dt>targetname: str</dt><dd><p>Name of the target</p>
</dd>
<dt>list_pointings: list</dt><dd><p>Pointing numbers. Default is None (meaning all pointings
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.rotate_pixtables_target">
<code class="sig-name descname">rotate_pixtables_target</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">folder_offset_table=None</em>, <em class="sig-param">offset_table_name=None</em>, <em class="sig-param">fakemode=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.rotate_pixtables_target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.rotate_pixtables_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate all pixel table of a certain targetname and pointings</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.run_target_recipe">
<code class="sig-name descname">run_target_recipe</code><span class="sig-paren">(</span><em class="sig-param">recipe_name</em>, <em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.run_target_recipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.run_target_recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Run just one recipe on target</p>
<p>recipe_name: str
targetname: str</p>
<blockquote>
<div><p>Name of the target</p>
</div></blockquote>
<dl class="simple">
<dt>list_pointings: list</dt><dd><p>Pointing numbers. Default is None (meaning all pointings
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.run_target_scipost_perexpo">
<code class="sig-name descname">run_target_scipost_perexpo</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">folder_offset_table=None</em>, <em class="sig-param">offset_table_name=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.run_target_scipost_perexpo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.run_target_scipost_perexpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the cube per exposure using a given WCS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targetname</strong> – </p></li>
<li><p><strong>list_pointings</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.MusePipeSample.set_pipe_target">
<code class="sig-name descname">set_pipe_target</code><span class="sig-paren">(</span><em class="sig-param">targetname=None</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.set_pipe_target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.set_pipe_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the musepipe instance for that target and list of pointings</p>
<dl class="simple">
<dt>targetname: str</dt><dd><p>Name of the target</p>
</dd>
<dt>list_pointings: list</dt><dd><p>Pointing numbers. Default is None (meaning all pointings
indicated in the dictonary will be reduced)</p>
</dd>
<dt>config_args: dic</dt><dd><p>Dictionary including extra configuration parameters to pass
to MusePipe. This allows to define a global configuration.
If self.__phangs is set to True, this is overwritten with the default
PHANGS configuration parameters as provided in config_pipe.py.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.target_sample.MusePipeTarget">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.target_sample.</code><code class="sig-name descname">MusePipeTarget</code><span class="sig-paren">(</span><em class="sig-param">targetname=''</em>, <em class="sig-param">subfolder='P100'</em>, <em class="sig-param">list_pointings=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="pymusepipe.target_sample.PipeDict">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.target_sample.</code><code class="sig-name descname">PipeDict</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>Dictionary with extra attributes</p>
<dl class="method">
<dt id="pymusepipe.target_sample.PipeDict.run_on_all_keys">
<code class="sig-name descname">run_on_all_keys</code><span class="sig-paren">(</span><em class="sig-param">funcname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict.run_on_all_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict.run_on_all_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the given function on all the keys</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.PipeDict.setdefault">
<code class="sig-name descname">setdefault</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict.setdefault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.target_sample.PipeDict.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">E</em>, <span class="optional">]</span><em class="sig-param">**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.target_sample.insert_suffix">
<code class="sig-prename descclassname">pymusepipe.target_sample.</code><code class="sig-name descname">insert_suffix</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#insert_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.insert_suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new filename including the
suffix in the name</p>
<p>filename: str
suffix: str</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.target_sample.update_calib_file">
<code class="sig-prename descclassname">pymusepipe.target_sample.</code><code class="sig-name descname">update_calib_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">subfolder=''</em>, <em class="sig-param">folder_config=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#update_calib_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.target_sample.update_calib_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rcfile with a new root</p>
<dl class="simple">
<dt>filename: str</dt><dd><p>Name of the input filename</p>
</dd>
<dt>folder_config: str</dt><dd><p>Default is “”. Name of folder for filename</p>
</dd>
<dt>subfolder: str</dt><dd><p>Name of subfolder to add in the path</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.util_pipe">
<span id="pymusepipe-util-pipe-module"></span><h2>pymusepipe.util_pipe module<a class="headerlink" href="#module-pymusepipe.util_pipe" title="Permalink to this headline">¶</a></h2>
<p>MUSE-PHANGS utility functions for pymusepipe</p>
<dl class="class">
<dt id="pymusepipe.util_pipe.Circle_Zone">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">Circle_Zone</code><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Circle_Zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Circle_Zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone" title="pymusepipe.util_pipe.Selection_Zone"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.util_pipe.Selection_Zone</span></code></a></p>
<p>Define a Circular zone, defined by
a center and a radius</p>
<dl class="method">
<dt id="pymusepipe.util_pipe.Circle_Zone.select">
<code class="sig-name descname">select</code><span class="sig-paren">(</span><em class="sig-param">xin</em>, <em class="sig-param">yin</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Circle_Zone.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Circle_Zone.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a selection within a circle</p>
<dl class="simple">
<dt>xin, yin: 2d arrays</dt><dd><p>Input positions for the spaxels</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.util_pipe.Rectangle_Zone">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">Rectangle_Zone</code><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Rectangle_Zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Rectangle_Zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone" title="pymusepipe.util_pipe.Selection_Zone"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.util_pipe.Selection_Zone</span></code></a></p>
<p>Define a rectangular zone, given by
a center, a length, a width and an angle</p>
<dl class="method">
<dt id="pymusepipe.util_pipe.Rectangle_Zone.select">
<code class="sig-name descname">select</code><span class="sig-paren">(</span><em class="sig-param">xin</em>, <em class="sig-param">yin</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Rectangle_Zone.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Rectangle_Zone.select" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Define a selection within a rectangle</dt><dd><p>It can be rotated by an angle theta (in degrees)</p>
</dd>
</dl>
<dl class="simple">
<dt>xin, yin: 2d arrays</dt><dd><p>Input positions for the spaxels</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.util_pipe.Selection_Zone">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">Selection_Zone</code><span class="sig-paren">(</span><em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Selection_Zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Selection_Zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Parent class for Rectangle_Zone and Circle_Zone</p>
<dl class="simple">
<dt>params: list of floats</dt><dd><p>List of parameters for the selection zone</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="pymusepipe.util_pipe.TimeStampDict">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">TimeStampDict</code><span class="sig-paren">(</span><em class="sig-param">description=''</em>, <em class="sig-param">myobject=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#TimeStampDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.TimeStampDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/collections.html#collections.OrderedDict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a></p>
<p>Class which builds a time stamp driven
dictionary of objects</p>
<dl class="method">
<dt id="pymusepipe.util_pipe.TimeStampDict.create_new_timestamp">
<code class="sig-name descname">create_new_timestamp</code><span class="sig-paren">(</span><em class="sig-param">myobject=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#TimeStampDict.create_new_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.TimeStampDict.create_new_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new item in dictionary
using a time stamp</p>
</dd></dl>

<dl class="method">
<dt id="pymusepipe.util_pipe.TimeStampDict.delete_timestamp">
<code class="sig-name descname">delete_timestamp</code><span class="sig-paren">(</span><em class="sig-param">tstamp=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#TimeStampDict.delete_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.TimeStampDict.delete_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a key in the dictionary</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymusepipe.util_pipe.Trail_Zone">
<em class="property">class </em><code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">Trail_Zone</code><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Trail_Zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Trail_Zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone" title="pymusepipe.util_pipe.Selection_Zone"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymusepipe.util_pipe.Selection_Zone</span></code></a></p>
<p>Define a Trail zone, defined by
two points and a width</p>
<dl class="method">
<dt id="pymusepipe.util_pipe.Trail_Zone.select">
<code class="sig-name descname">select</code><span class="sig-paren">(</span><em class="sig-param">xin</em>, <em class="sig-param">yin</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Trail_Zone.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.Trail_Zone.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a selection within trail</p>
<dl class="simple">
<dt>xin, yin: 2d arrays</dt><dd><p>Input positions for the spaxels</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.abspath">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">abspath</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#abspath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.abspath" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalise the path to get it short but absolute</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.add_key_pointing_expo">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">add_key_pointing_expo</code><span class="sig-paren">(</span><em class="sig-param">imaname</em>, <em class="sig-param">iexpo</em>, <em class="sig-param">pointing</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#add_key_pointing_expo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.add_key_pointing_expo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add pointing and expo number to image</p>
<p>imaname: str
iexpo: int
pointing: int</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.append_file">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">append_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">content</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#append_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.append_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Append in ascii file</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.create_time_name">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">create_time_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#create_time_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.create_time_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a time-link name for file saving purposes</p>
<p>Return: a string including the YearMonthDay_HourMinSec</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.doppler_shift">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">doppler_shift</code><span class="sig-paren">(</span><em class="sig-param">wavelength</em>, <em class="sig-param">velocity=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#doppler_shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.doppler_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the redshifted wavelength</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.filter_list_with_pdict">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">filter_list_with_pdict</code><span class="sig-paren">(</span><em class="sig-param">input_list</em>, <em class="sig-param">list_pointings=None</em>, <em class="sig-param">dict_files=None</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#filter_list_with_pdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.filter_list_with_pdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out exposures (pixtab or cube namelist) using a dictionary which
has a list of pointings and for each pointing a list of exposure number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_list</strong> (<em>list of str</em>) – input list to filter</p></li>
<li><p><strong>dict_files</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – dictionary used to filter</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>selected list of files</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>selected_list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.formatted_time">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">formatted_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#formatted_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.formatted_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return: a string including the formatted time</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.get_emissionline_band">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">get_emissionline_band</code><span class="sig-paren">(</span><em class="sig-param">line='Ha'</em>, <em class="sig-param">velocity=0.0</em>, <em class="sig-param">redshift=None</em>, <em class="sig-param">medium='air'</em>, <em class="sig-param">lambda_window=10.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_emissionline_band"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_emissionline_band" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the wavelengths of an emission line, including a correction
for the redshift (or velocity) and a lambda_window around that line (in Angstroems)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> (<em>name of the line</em><em> (</em><em>string</em><em>)</em><em> Default is 'Ha'</em>) – </p></li>
<li><p><strong>velocity</strong> (<em>shift in velocity</em><em> (</em><em>km/s</em><em>)</em>) – </p></li>
<li><p><strong>medium</strong> (<em>'air'</em><em> or </em><em>'vacuum'</em>) – </p></li>
<li><p><strong>lambda_window</strong> (<em>lambda_window in Angstroem</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.get_emissionline_wavelength">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">get_emissionline_wavelength</code><span class="sig-paren">(</span><em class="sig-param">line='Ha'</em>, <em class="sig-param">velocity=0.0</em>, <em class="sig-param">redshift=None</em>, <em class="sig-param">medium='air'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_emissionline_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_emissionline_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the wavelength of an emission line, including a correction
for the redshift (or velocity)</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.lower_allbutfirst_letter">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">lower_allbutfirst_letter</code><span class="sig-paren">(</span><em class="sig-param">mystring</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#lower_allbutfirst_letter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.lower_allbutfirst_letter" title="Permalink to this definition">¶</a></dt>
<dd><p>Lowercase all letters except the first one</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.normpath">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">normpath</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#normpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.normpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalise the path to get it short</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.print_debug">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">print_debug</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Print debugging information</p>
<p>text: str
pipe: musepipe [None]</p>
<blockquote>
<div><p>If provided, will print the text in the logfile</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.print_endline">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">print_endline</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_endline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_endline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.print_error">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">print_error</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Print error information</p>
<p>text: str
pipe: musepipe [None]</p>
<blockquote>
<div><p>If provided, will print the text in the logfile</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.print_info">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">print_info</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print processing information</p>
<p>text: str
pipe: musepipe [None]</p>
<blockquote>
<div><p>If provided, will print the text in the logfile</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.print_warning">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">print_warning</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.reconstruct_filter_images">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">reconstruct_filter_images</code><span class="sig-paren">(</span><em class="sig-param">cubename</em>, <em class="sig-param">filter_list='white</em>, <em class="sig-param">Johnson_B</em>, <em class="sig-param">Johnson_V</em>, <em class="sig-param">Cousins_R</em>, <em class="sig-param">SDSS_g</em>, <em class="sig-param">SDSS_r</em>, <em class="sig-param">SDSS_i'</em>, <em class="sig-param">filter_fits_file='filter_list.fits'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#reconstruct_filter_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.reconstruct_filter_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct all images in a list of Filters
cubename: str</p>
<blockquote>
<div><p>Name of the cube</p>
</div></blockquote>
<dl class="simple">
<dt>filter_list: str</dt><dd><p>List of filters, e.g., “Cousins_R,Johnson_I”
By default, the default_filter_list from pymusepipe.config_pipe</p>
</dd>
<dt>filter_fits_file: str</dt><dd><p>Name of the fits file containing all the filter characteristics
Usually in filter_list.fits (MUSE default)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.rotate_image_wcs">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">rotate_image_wcs</code><span class="sig-paren">(</span><em class="sig-param">ima_name</em>, <em class="sig-param">ima_folder=''</em>, <em class="sig-param">outwcs_folder=None</em>, <em class="sig-param">rotangle=0.0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#rotate_image_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.rotate_image_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine to remove potential Nan around an image and reconstruct
an optimal WCS reference image. The rotation angle is provided as a way
to optimise the extent of the output image, removing Nan along X and Y
at that angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ima_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – input image name. No default.</p></li>
<li><p><strong>ima_folder</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – input image folder [‘’]</p></li>
<li><p><strong>outwcs_folder</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – folder where to write the output frame. Default is
None which means that it will use the folder of the input image.</p></li>
<li><p><strong>rotangle</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – rotation angle in degrees [0]</p></li>
<li><p><strong>**kwargs</strong> – in_suffix (str): in suffix to remove from name [‘prealign’]
out_suffix (str): out suffix to add to name [‘rotwcs’]
margin_factor (float): factor to extend the image [1.1]</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.safely_create_folder">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">safely_create_folder</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#safely_create_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.safely_create_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a folder given by the input path
This small function tries to create it and if it fails
it checks whether the reason is because it is not a path
and then warn the user
and then warn the user</p>
</dd></dl>

<dl class="function">
<dt id="pymusepipe.util_pipe.select_spaxels">
<code class="sig-prename descclassname">pymusepipe.util_pipe.</code><code class="sig-name descname">select_spaxels</code><span class="sig-paren">(</span><em class="sig-param">maskDic</em>, <em class="sig-param">maskName</em>, <em class="sig-param">X</em>, <em class="sig-param">Y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#select_spaxels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymusepipe.util_pipe.select_spaxels" title="Permalink to this definition">¶</a></dt>
<dd><p>Selecting spaxels defined by their coordinates
using the masks defined by Circle or Rectangle Zones</p>
</dd></dl>

</div>
<div class="section" id="module-pymusepipe.version">
<span id="pymusepipe-version-module"></span><h2>pymusepipe.version module<a class="headerlink" href="#module-pymusepipe.version" title="Permalink to this headline">¶</a></h2>
<p>Copyright (c) 2016-2019 Eric Emsellem &lt;<a class="reference external" href="mailto:eric&#46;emsellem&#37;&#52;&#48;eso&#46;org">eric<span>&#46;</span>emsellem<span>&#64;</span>eso<span>&#46;</span>org</a>&gt;</p>
<p>All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<ol class="arabic simple">
<li><p>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</p></li>
<li><p>Neither the name of the copyright holder nor the names of its contributors
may be used to endorse or promote products derived from this software
without specific prior written permission.</p></li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>
<div class="section" id="module-pymusepipe">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pymusepipe" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2017 ESO/Centre de Recherche Astronomique de Lyon (CRAL)
print pymusepipe.__LICENSE__  for the terms of use</p>
<p>This package is a wrapper around the MUSE pipeline commands to reduce
muse raw data frames. It includes modules for aligning and convolving the frames.
It also has some basic routines wrapped around mpdaf, the excellent
python package built around the MUSE PIXTABLES and reduced data.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="pymusepipe" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Eric Emsellem

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>